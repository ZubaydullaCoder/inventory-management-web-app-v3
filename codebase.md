# .github\copilot-instructions.md

```md
## Instructions for Full-Stack Web Development ## Persona You are Copilot, a Senior Full-Stack Web Developer. Your goal is to provide accurate, efficient, and context-aware assistance. ## Universal Principles - **Scope:** Only address the user's current request. No unsolicited changes or unrelated suggestions. - **Context awareness:** analyze user's input in organized way and understand contextually what user wants. Then based on user's intent, analyze all relevant context (e.g. files, docs) in the workspace and if available, relevant chat context to gather enough information to fulfill the user's request before responding. ## User's Input Request Types ### 1. Planning, Explanation, Research & Q&A - Provide clear, structured, and insightful information or guidance. - Use general knowledge and workspace docs if relevant. - Do not modify the workspace; output is informational only. ### 2. Code Implementation & Modification (task implementation, feature integration, functionality consideration / issues, bugs, refactoring) - Implement changes in a systematic and efficient manner. - Plan changes to maintainability, scalability, reusability, and codebase consistency. - Based on analysis, create relevant files if they don’t exist, edit relevant files if they exist and update is necessary, or propose deletion of files as needed. - When relevant and available, prefer CLI commands for setup and package management. - When relevant and available, prioritize reliable, ready packages over custom implementations. - When relevant and available, use ShadCN UI and reliable external packages when possible. - When relevant, follow these naming conventions: - Directories: kebab-case (e.g., `user-profile`, `product-list`) - Non-component files: kebab-case (e.g., `auth.js`, `utils.js`) - React files: kebab-case; Components: PascalCase (e.g., `UserProfile.jsx`, `ProductList.jsx`) - Next.js: - Use Server Components by default. - Keep route components minimal; orchestrate data and composition. - Keep `app/` lean; move logic to `components/`, `lib/`, `utils/`. - If data is globally accessible (e.g., via context, store, server-side utilities, or separate importable data), prefer accessing or importing it directly within components rather than passing it down as props from parent components. Import such data in the component itself. - Prefer keeping Client Components as deeply nested as possible within the component tree. Place them lower in the hierarchy to maximize static rendering and performance benefits from Server Components. - Do not implement loading or error nextjs components unless explicitly requested. ### 3. RunTime Error Resolution - Analyze errors, stack traces, and relevant code. - Diagnose and propose targeted fixes. - Apply code implementation principles for any fixes. - If unresolved, suggest specific debugging steps.
```

# .gitignore

```
# See https://help.github.com/articles/ignoring-files/ for more about ignoring files. # dependencies /node_modules /.pnp .pnp.* .yarn/* !.yarn/patches !.yarn/plugins !.yarn/releases !.yarn/versions # testing /coverage # next.js /.next/ /out/ # production /build # misc .DS_Store *.pem # debug npm-debug.log* yarn-debug.log* yarn-error.log* .pnpm-debug.log* # env files (can opt-in for committing if needed) .env* # vercel .vercel # typescript *.tsbuildinfo next-env.d.ts # YoYo AI version control directory .yoyo/
```

# .vscode\settings.json

```json
{ "files.exclude": { "**/.git": true, "**/.svn": true, "**/.hg": true, "**/.DS_Store": true, "**/Thumbs.db": true, ".yoyo": true } }
```

# .yoyo\db\snapshot_embeddings.sqlitejs

This is a binary file of the type: Binary

# .yoyo\snapshot\.github\copilot-instructions.md

```md
## Instructions for Full-Stack Web Development ## Persona You are Copilot, a Senior Full-Stack Web Developer. Your goal is to provide accurate, efficient, and context-aware assistance. ## Universal Principles - **Scope:** Only address the user's current request. No unsolicited changes or unrelated suggestions. - **Context awareness:** analyze user's input in organized way and understand contextually what user wants. Then based on user's intent, analyze all relevant context (e.g. files, docs) in the workspace and if available, relevant chat context to gather enough information to fulfill the user's request before responding. ## User's Input Request Types ### 1. Planning, Explanation, Research & Q&A - Provide clear, structured, and insightful information or guidance. - Use general knowledge and workspace docs if relevant. - Do not modify the workspace; output is informational only. ### 2. Code Implementation & Modification (task implementation, feature integration, functionality consideration / issues, bugs, refactoring) - Implement changes in a systematic and efficient manner. - Plan changes to maintainability, scalability, reusability, and codebase consistency. - Based on analysis, create relevant files if they don’t exist, edit relevant files if they exist and update is necessary, or propose deletion of files as needed. - When relevant and available, prefer CLI commands for setup and package management. - When relevant and available, prioritize reliable, ready packages over custom implementations. - When relevant and available, use ShadCN UI and reliable external packages when possible. - When relevant, follow these naming conventions: - Directories: kebab-case (e.g., `user-profile`, `product-list`) - Non-component files: kebab-case (e.g., `auth.js`, `utils.js`) - React files: kebab-case; Components: PascalCase (e.g., `UserProfile.jsx`, `ProductList.jsx`) - Next.js: - Use Server Components by default. - Keep route components minimal; orchestrate data and composition. - Keep `app/` lean; move logic to `components/`, `lib/`, `utils/`. - If data is globally accessible (e.g., via context, store, server-side utilities, or separate importable data), prefer accessing or importing it directly within components rather than passing it down as props from parent components. Import such data in the component itself. - Prefer keeping Client Components as deeply nested as possible within the component tree. Place them lower in the hierarchy to maximize static rendering and performance benefits from Server Components. - Do not implement loading or error nextjs components unless explicitly requested. ### 3. RunTime Error Resolution - Analyze errors, stack traces, and relevant code. - Diagnose and propose targeted fixes. - Apply code implementation principles for any fixes. - If unresolved, suggest specific debugging steps.
```

# .yoyo\snapshot\components.json

```json
{ "$schema": "https://ui.shadcn.com/schema.json", "style": "new-york", "rsc": true, "tsx": false, "tailwind": { "config": "tailwind.config.mjs", "css": "src/app/globals.css", "baseColor": "zinc", "cssVariables": true, "prefix": "" }, "aliases": { "components": "@/components", "utils": "@/lib/utils", "ui": "@/components/ui", "lib": "@/lib", "hooks": "@/hooks" }, "iconLibrary": "lucide" }
```

# .yoyo\snapshot\eslint.config.mjs

```mjs
import { dirname } from "path"; import { fileURLToPath } from "url"; import { FlatCompat } from "@eslint/eslintrc"; const __filename = fileURLToPath(import.meta.url); const __dirname = dirname(__filename); const compat = new FlatCompat({ baseDirectory: __dirname, }); const eslintConfig = [...compat.extends("next/core-web-vitals")]; export default eslintConfig;
```

# .yoyo\snapshot\jsconfig.json

```json
{ "compilerOptions": { "baseUrl": ".", "paths": { "@/*": ["src/*"] }, "checkJs": true, "jsx": "preserve", "lib": ["dom", "dom.iterable", "esnext"], "allowJs": true, "skipLibCheck": true, "strict": false, "noEmit": true, "incremental": true, "module": "esnext", "moduleResolution": "node", "resolveJsonModule": true, "isolatedModules": true }, "include": ["next-env.d.ts", "src/**/*.js", "src/**/*.jsx"], "exclude": ["node_modules"] }
```

# .yoyo\snapshot\next.config.mjs

```mjs
/** @type {import('next').NextConfig} */ const nextConfig = {}; export default nextConfig;
```

# .yoyo\snapshot\package.json

```json
{ "name": "inventory-nextjs", "version": "0.1.0", "private": true, "scripts": { "dev": "next dev", "build": "next build", "start": "next start", "lint": "next lint" }, "dependencies": { "@prisma/client": "^6.11.1", "@radix-ui/react-avatar": "^1.1.10", "@radix-ui/react-dialog": "^1.1.14", "@radix-ui/react-dropdown-menu": "^2.1.15", "@radix-ui/react-slot": "^1.2.3", "@tanstack/react-query": "^5.81.5", "class-variance-authority": "^0.7.1", "clsx": "^2.1.1", "lucide-react": "^0.515.0", "next": "^15.3.3", "next-auth": "^5.0.0-beta.29", "react": "^19.0.0", "react-dom": "^19.0.0", "tailwind-merge": "^3.3.1", "tailwindcss-animate": "^1.0.7", "zod": "^3.25.72" }, "devDependencies": { "@eslint/eslintrc": "^3", "eslint": "^9", "eslint-config-next": "15.1.7", "postcss": "^8", "prisma": "^6.11.1", "tailwindcss": "^3.4.1" } }
```

# .yoyo\snapshot\postcss.config.mjs

```mjs
/** @type {import('postcss-load-config').Config} */ const config = { plugins: { tailwindcss: {}, }, }; export default config;
```

# .yoyo\snapshot\prisma\migrations\migration_lock.toml

```toml
# Please do not edit this file manually # It should be added in your version-control system (e.g., Git) provider = "postgresql"
```

# .yoyo\snapshot\prisma\schema.prisma

```prisma
// This is your Prisma schema file, // learn more about it in the docs: https://pris.ly/d/prisma-schema generator client { provider = "prisma-client-js" } datasource db { provider = "postgresql" url = env("DATABASE_URL") } // ENUMS // Defines the user roles within the application. enum Role { SHOP_OWNER SHOP_STAFF } // Defines the available subscription plans. enum SubscriptionPlan { FREE_TRIAL BASIC STANDARD PREMIUM } // Defines the status of a subscription. enum SubscriptionStatus { TRIALING ACTIVE EXPIRED CANCELED } // MODELS // Represents a user account in the system, compatible with NextAuth.js. model User { id String @id @default(cuid()) name String? email String? @unique emailVerified DateTime? image String? role Role @default(SHOP_OWNER) // A user can own one shop. This is a virtual field for Prisma Client. // It does NOT define fields or references. shop Shop? // NextAuth.js required relations accounts Account[] sessions Session[] } // NextAuth.js model for linking OAuth accounts to a User. model Account { id String @id @default(cuid()) userId String type String provider String providerAccountId String refresh_token String? @db.Text access_token String? @db.Text expires_at Int? token_type String? scope String? id_token String? @db.Text session_state String? user User @relation(fields: [userId], references: [id], onDelete: Cascade) @@unique([provider, providerAccountId]) @@index([userId]) } // NextAuth.js model for database-based sessions. model Session { id String @id @default(cuid()) sessionToken String @unique userId String expires DateTime user User @relation(fields: [userId], references: [id], onDelete: Cascade) @@index([userId]) } // NextAuth.js model for email verification tokens. model VerificationToken { identifier String token String @unique expires DateTime @@unique([identifier, token]) } // Represents a single retail shop, the central entity for an account. model Shop { id String @id @default(cuid()) name String // This field holds the foreign key. ownerId String @unique // This relation field defines how 'ownerId' connects to the User model. owner User @relation(fields: [ownerId], references: [id], onDelete: Restrict) // Each shop has one subscription. subscription Subscription? @@index([ownerId]) } // Manages the subscription details for a Shop. model Subscription { id String @id @default(cuid()) shopId String @unique plan SubscriptionPlan @default(FREE_TRIAL) status SubscriptionStatus @default(TRIALING) startDate DateTime @default(now()) endDate DateTime shop Shop @relation(fields: [shopId], references: [id], onDelete: Cascade) @@index([shopId]) }
```

# .yoyo\snapshot\public\file.svg

This is a file of the type: SVG Image

# .yoyo\snapshot\public\globe.svg

This is a file of the type: SVG Image

# .yoyo\snapshot\public\next.svg

This is a file of the type: SVG Image

# .yoyo\snapshot\public\vercel.svg

This is a file of the type: SVG Image

# .yoyo\snapshot\public\window.svg

This is a file of the type: SVG Image

# .yoyo\snapshot\README.md

```md
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app). ## Getting Started First, run the development server: \`\`\`bash npm run dev # or yarn dev # or pnpm dev # or bun dev \`\`\` Open [http://localhost:3000](http://localhost:3000) with your browser to see the result. You can start editing the page by modifying `app/page.js`. The page auto-updates as you edit the file. This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel. ## Learn More To learn more about Next.js, take a look at the following resources: - [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API. - [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial. You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome! ## Deploy on Vercel The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js. Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
```

# .yoyo\snapshot\src\app\api\auth\[...nextauth]\route.js

```js
/** * This is the catch-all API route for NextAuth.js. * It exports the GET and POST handlers from the main auth configuration. * All authentication-related requests (e.g., /api/auth/signin/google, /api/auth/callback/google) * are handled by this single route. * * @see /src/auth.js */ import { GET, POST } from "@/auth"; export { GET, POST };
```

# .yoyo\snapshot\src\app\favicon.ico

This is a binary file of the type: Binary

# .yoyo\snapshot\src\app\globals.css

```css
@tailwind base; @tailwind components; @tailwind utilities; body { font-family: var(--font-sans), Arial, Helvetica, sans-serif; } @layer base { :root { --background: 0 0% 100%; --foreground: 240 10% 3.9%; --card: 0 0% 100%; --card-foreground: 240 10% 3.9%; --popover: 0 0% 100%; --popover-foreground: 240 10% 3.9%; --primary: 37 100% 59%; --primary-foreground: 240 10% 3.9%; --secondary: 240 4.8% 95.9%; --secondary-foreground: 240 5.9% 10%; --muted: 240 4.8% 95.9%; --muted-foreground: 240 3.8% 46.1%; --accent: 240 4.8% 95.9%; --accent-foreground: 240 5.9% 10%; --destructive: 0 84.2% 60.2%; --destructive-foreground: 0 0% 98%; --border: 240 5.9% 90%; --input: 240 5.9% 90%; --ring: 240 10% 3.9%; --chart-1: 12 76% 61%; --chart-2: 173 58% 39%; --chart-3: 197 37% 24%; --chart-4: 43 74% 66%; --chart-5: 27 87% 67%; --radius: 0.5rem; } .dark { --background: 26 39% 10%; --foreground: 0 0% 98%; --card: 26 39% 10%; --card-foreground: 0 0% 98%; --popover: 26 39% 10%; --popover-foreground: 0 0% 98%; --primary: 37 100% 59%; --primary-foreground: 240 10% 3.9%; --secondary: 240 3.7% 15.9%; --secondary-foreground: 0 0% 98%; --muted: 240 3.7% 15.9%; --muted-foreground: 240 5% 64.9%; --accent: 240 3.7% 15.9%; --accent-foreground: 0 0% 98%; --destructive: 0 62.8% 30.6%; --destructive-foreground: 0 0% 98%; --border: 240 3.7% 15.9%; --input: 240 3.7% 15.9%; --ring: 240 4.9% 83.9%; --chart-1: 220 70% 50%; --chart-2: 160 60% 45%; --chart-3: 30 80% 55%; --chart-4: 280 65% 60%; --chart-5: 340 75% 55%; } } @layer base { * { @apply border-border; } body { @apply bg-background text-foreground; } }
```

# .yoyo\snapshot\src\app\layout.jsx

```jsx
import { Nunito } from "next/font/google"; import SessionProviderWrapper from "@/components/providers/SessionProviderWrapper"; import QueryProvider from "@/components/providers/QueryProvider"; import "./globals.css"; // Font setup as per the design guide (guide-12). // Using a CSS variable is a robust way to integrate with Tailwind CSS. const nunito = Nunito({ subsets: ["latin"], display: "swap", variable: "--font-sans", }); /** * @type {import('next').Metadata} */ export const metadata = { title: "Retail Inventory & Finance Manager", description: "Take Control of Your Shop with a modern inventory and finance management solution.", }; /** * The root layout for the entire application. * * This component establishes the global HTML structure, applies the primary font, * and wraps the application in essential client-side context providers. * * @param {{ children: React.ReactNode }} props */ export default function RootLayout({ children }) { return ( <html lang="en" suppressHydrationWarning> <body className={nunito.variable}> {/* The SessionProviderWrapper makes the NextAuth.js session available to all client components via the `useSession` hook. */} <SessionProviderWrapper> {/* The QueryProvider sets up the TanStack Query client, enabling client-side data fetching, caching, and state management. */} <QueryProvider>{children}</QueryProvider> </SessionProviderWrapper> </body> </html> ); }
```

# .yoyo\snapshot\src\app\page.jsx

```jsx
import { auth } from "@/auth"; import AppHeader from "@/components/features/landing/app-header"; import AppFooter from "@/components/features/landing/app-footer"; import DynamicCtaButton from "@/components/features/auth/dynamic-cta-button"; import DynamicSectionContent from "@/components/features/landing/dynamic-section-content"; import FeatureCard from "@/components/ui/feature-card"; import PricingCard from "@/components/ui/pricing-card"; import { featureCardsData, pricingPlansData, } from "@/lib/config/landing-page-config"; /** * Main landing page for the Retail Inventory & Finance Manager application. * Dynamically adapts content based on user authentication status. * Serves as the entry point for both unauthenticated and authenticated users. * * @returns {JSX.Element} Landing page */ export default async function HomePage() { // Fetch the session on the server to determine authentication status const session = await auth(); return ( <div className="min-h-screen flex flex-col"> <AppHeader session={session} /> <main className="flex-grow"> {/* Hero Section */} <section className="bg-gradient-to-b from-background to-muted/20 py-16 md:py-24"> <div className="container mx-auto px-4 sm:px-6 lg:px-8 text-center"> <h1 className="text-4xl md:text-6xl font-bold tracking-tight mb-6"> Take Control of Your{" "} <span className="text-primary">Retail Shop</span> </h1> <p className="text-xl text-muted-foreground mb-8 max-w-2xl mx-auto"> Replace manual paperwork with a modern, digital solution for inventory management, sales tracking, and financial reporting designed specifically for retail shops in Uzbekistan. </p> <div className="flex flex-col sm:flex-row gap-4 justify-center"> <DynamicCtaButton session={session} className="text-lg px-8 py-6" context="hero" authenticatedText="Access Your Dashboard" > Start Free Trial </DynamicCtaButton> </div> </div> </section> {/* Features Section */} <section id="features" className="py-16 md:py-24"> <div className="container mx-auto px-4 sm:px-6 lg:px-8"> <div className="text-center mb-16"> <h2 className="text-3xl md:text-4xl font-bold mb-4"> Everything You Need to Manage Your Shop </h2> <p className="text-xl text-muted-foreground max-w-2xl mx-auto"> Streamline your operations with powerful tools designed for modern retail management. </p> </div> <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"> {featureCardsData.map((feature) => ( <FeatureCard key={feature.title} icon={feature.icon} title={feature.title} description={feature.description} /> ))} </div> </div> </section> {/* Pricing Section */} <section id="pricing" className="py-16 md:py-24 bg-muted/20"> <div className="container mx-auto px-4 sm:px-6 lg:px-8"> <DynamicSectionContent session={session} section="pricing" /> <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto"> {pricingPlansData.map((plan) => ( <PricingCard key={plan.planName} planName={plan.planName} price={plan.price} description={plan.description} features={plan.features} recommended={plan.recommended} > <DynamicCtaButton session={session} className="w-full" context="pricing" authenticatedText="Manage Shop" > {plan.ctaText} </DynamicCtaButton> </PricingCard> ))} </div> </div> </section> {/* Final CTA Section */} <section className="py-16 md:py-24"> <div className="container mx-auto px-4 sm:px-6 lg:px-8 text-center"> <DynamicSectionContent session={session} section="cta" /> <DynamicCtaButton session={session} className="text-lg px-8 py-6" context="cta" authenticatedText="Continue to Dashboard" > Start Your Free Trial Today </DynamicCtaButton> </div> </section> </main> <AppFooter /> </div> ); }
```

# .yoyo\snapshot\src\auth.js

```js
import NextAuth from "next-auth"; import { authConfig } from "./lib/auth.config"; /** * Initializes NextAuth.js with the provided configuration. * This file exports the core handlers and helper functions for authentication. * * - `handlers`: The GET and POST handlers for the catch-all API route. * - `auth`: A server-side helper to get the current session. * - `signIn`: A server-side function to initiate the sign-in process. * - `signOut`: A server-side function to initiate the sign-out process. * * @see /src/app/api/auth/[...nextauth]/route.js */ export const { handlers: { GET, POST }, auth, signIn, signOut, } = NextAuth(authConfig);
```

# .yoyo\snapshot\src\components\features\auth\auth-modal.jsx

```jsx
"use client"; import { useState } from "react"; import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger, } from "@/components/ui/dialog"; /** * Authentication modal component that provides a modal dialog for user authentication. * This component manages its own open/closed state internally using the composition pattern. * * @param {Object} props * @param {React.ReactNode} props.trigger - Element that opens the modal when clicked * @param {React.ReactNode} props.children - Content to render inside the modal body * @returns {JSX.Element} Modal dialog for authentication */ export default function AuthModal({ trigger, children }) { const [isOpen, setIsOpen] = useState(false); return ( <Dialog open={isOpen} onOpenChange={setIsOpen}> <DialogTrigger asChild>{trigger}</DialogTrigger> <DialogContent className="sm:max-w-md"> <DialogHeader> <DialogTitle>Welcome to RetailManager</DialogTitle> <DialogDescription> Sign in to start managing your shop's inventory and finances. </DialogDescription> </DialogHeader> <div className="flex flex-col space-y-4 py-4">{children}</div> </DialogContent> </Dialog> ); }
```

# .yoyo\snapshot\src\components\features\auth\dynamic-cta-button.jsx

```jsx
import Link from "next/link"; import AuthModal from "@/components/features/auth/auth-modal"; import LoginButton from "@/components/features/auth/login-button"; import PrimaryButton from "@/components/ui/primary-button"; /** * Dynamic Call-to-Action button component that renders different actions * based on the user's authentication status. * * This Server Component encapsulates the session-based conditional logic * to eliminate code duplication across the landing page. * * @param {Object} props * @param {Object|null} props.session - The user session object from auth() * @param {React.ReactNode} props.children - Button text content for unauthenticated users * @param {string} [props.className] - Additional CSS classes for the button * @param {string} [props.authenticatedText] - Custom text to show when user is authenticated * @param {string} [props.context] - Context for the button (e.g., 'pricing', 'hero', 'cta') * @param {...any} props.rest - Other props passed to the underlying PrimaryButton * @returns {JSX.Element} Either a Link to dashboard or AuthModal with LoginButton */ export default function DynamicCtaButton({ session, children, className, authenticatedText, context = "default", ...props }) { if (session) { // User is authenticated - provide contextual button text let buttonText = authenticatedText; if (!buttonText) { // Default authenticated text based on context switch (context) { case "pricing": buttonText = "Go to Dashboard"; break; case "hero": buttonText = "Go to Dashboard"; break; case "cta": buttonText = "Access Your Dashboard"; break; default: buttonText = "Go to Dashboard"; } } return ( <Link href="/dashboard"> <PrimaryButton className={className} {...props}> {buttonText} </PrimaryButton> </Link> ); } // User is not authenticated - show auth modal return ( <AuthModal trigger={ <PrimaryButton className={className} {...props}> {children} </PrimaryButton> } > <LoginButton /> </AuthModal> ); }
```

# .yoyo\snapshot\src\components\features\auth\login-button.jsx

```jsx
"use client"; import { signIn, useSession } from "next-auth/react"; import PrimaryButton from "@/components/ui/primary-button"; /** * Login button component that initiates Google OAuth authentication flow. * * @returns {JSX.Element} Google sign-in button */ export default function LoginButton() { const { status } = useSession(); const isLoading = status === "loading"; const handleSignIn = () => { signIn("google", { callbackUrl: "/dashboard" }); }; return ( <PrimaryButton onClick={handleSignIn} disabled={isLoading} className="w-full flex items-center justify-center gap-2" > <svg className="w-5 h-5" viewBox="0 0 24 24"> <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" /> <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" /> <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" /> <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" /> </svg> {isLoading ? "Loading..." : "Continue with Google"} </PrimaryButton> ); }
```

# .yoyo\snapshot\src\components\features\auth\user-dropdown.jsx

```jsx

```

# .yoyo\snapshot\src\components\features\auth\user-nav.jsx

```jsx
"use client"; import Link from "next/link"; import { signOut } from "next-auth/react"; import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger, } from "@/components/ui/dropdown-menu"; import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar"; /** * Interactive user navigation component for authenticated users. * Displays the user's avatar and provides a dropdown menu with user-specific actions. * * @param {Object} props * @param {Object} props.user - The authenticated user object * @param {string} props.user.name - User's display name * @param {string} props.user.image - URL to user's avatar image * @param {string} [props.user.email] - User's email address (optional) * @returns {JSX.Element} User navigation dropdown component */ export default function UserNav({ user }) { /** * Generates user initials from the user's name * @param {string} name - User's full name * @returns {string} User's initials (e.g., "John Doe" -> "JD") */ const getInitials = (name) => { if (!name) return "U"; return name .split(" ") .map((part) => part.charAt(0)) .join("") .toUpperCase() .slice(0, 2); }; const handleSignOut = () => { signOut({ callbackUrl: "/" }); }; return ( <DropdownMenu> <DropdownMenuTrigger className="focus:outline-none"> <Avatar className="h-8 w-8 cursor-pointer"> <AvatarImage src={user?.image} alt={user?.name || "User avatar"} /> <AvatarFallback className="bg-primary text-primary-foreground text-sm font-semibold"> {getInitials(user?.name)} </AvatarFallback> </Avatar> </DropdownMenuTrigger> <DropdownMenuContent align="end" className="w-56"> <DropdownMenuLabel className="font-normal"> <div className="flex flex-col space-y-1"> <p className="text-sm font-medium leading-none">{user?.name}</p> {user?.email && ( <p className="text-xs leading-none text-muted-foreground"> {user.email} </p> )} </div> </DropdownMenuLabel> <DropdownMenuSeparator /> <DropdownMenuItem asChild> <Link href="/dashboard" className="cursor-pointer"> Dashboard </Link> </DropdownMenuItem> <DropdownMenuSeparator /> <DropdownMenuItem onClick={handleSignOut} className="cursor-pointer text-red-600 focus:text-red-600" > Sign Out </DropdownMenuItem> </DropdownMenuContent> </DropdownMenu> ); }
```

# .yoyo\snapshot\src\components\features\landing\app-footer.jsx

```jsx
/** * Public footer component providing standard footer content and legal information. * * @returns {JSX.Element} Footer component */ export default function AppFooter() { const currentYear = new Date().getFullYear(); return ( <footer className="border-t bg-background"> <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-8"> <div className="grid grid-cols-1 md:grid-cols-4 gap-8"> {/* Brand Section */} <div className="md:col-span-2"> <h3 className="text-lg font-semibold text-primary mb-4"> RetailManager </h3> <p className="text-sm text-muted-foreground max-w-md"> Modern inventory and finance management solution designed specifically for retail shops in Uzbekistan. </p> </div> {/* Product Links */} <div> <h4 className="text-sm font-semibold mb-4">Product</h4> <ul className="space-y-2 text-sm text-muted-foreground"> <li> <a href="#features" className="hover:text-primary transition-colors" > Features </a> </li> <li> <a href="#pricing" className="hover:text-primary transition-colors" > Pricing </a> </li> <li> <a href="/support" className="hover:text-primary transition-colors" > Support </a> </li> </ul> </div> {/* Legal Links */} <div> <h4 className="text-sm font-semibold mb-4">Legal</h4> <ul className="space-y-2 text-sm text-muted-foreground"> <li> <a href="/privacy" className="hover:text-primary transition-colors" > Privacy Policy </a> </li> <li> <a href="/terms" className="hover:text-primary transition-colors" > Terms of Service </a> </li> <li> <a href="/contact" className="hover:text-primary transition-colors" > Contact Us </a> </li> </ul> </div> </div> <div className="border-t mt-8 pt-8 text-center"> <p className="text-sm text-muted-foreground"> © {currentYear} RetailManager. All rights reserved. </p> </div> </div> </footer> ); }
```

# .yoyo\snapshot\src\components\features\landing\app-header.jsx

```jsx
import AuthModal from "@/components/features/auth/auth-modal"; import LoginButton from "@/components/features/auth/login-button"; import UserNav from "@/components/features/auth/user-nav"; import PrimaryButton from "@/components/ui/primary-button"; /** * Main application header component that adapts based on user authentication status. * Serves as the primary navigation for both unauthenticated and authenticated users. * * @param {Object} props * @param {Object|null} props.session - User session object from Auth.js (null if not logged in) * @param {Object} [props.session.user] - User object containing name, email, image, etc. * @returns {JSX.Element} Header component */ export default function AppHeader({ session }) { return ( <header className="border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"> <div className="container mx-auto px-4 sm:px-6 lg:px-8"> <div className="flex h-16 items-center justify-between"> <div className="flex items-center"> <h1 className="text-xl font-bold text-primary">RetailManager</h1> </div> <nav className="hidden md:flex items-center space-x-6"> <a href="#features" className="text-sm font-medium text-muted-foreground hover:text-primary transition-colors" > Features </a> <a href="#pricing" className="text-sm font-medium text-muted-foreground hover:text-primary transition-colors" > Pricing </a> </nav> <div className="flex items-center space-x-4"> {session?.user ? ( <UserNav user={session.user} /> ) : ( <AuthModal trigger={<PrimaryButton>Start Free Trial</PrimaryButton>} > <LoginButton /> </AuthModal> )} </div> </div> </div> </header> ); }
```

# .yoyo\snapshot\src\components\features\landing\dynamic-section-content.jsx

```jsx
/** * Dynamic section content component that adapts messaging based on user authentication status. * * @param {Object} props * @param {Object|null} props.session - The user session object from auth() * @param {string} props.section - The section identifier ('pricing' or 'cta') * @returns {JSX.Element} Dynamic content based on authentication status */ export default function DynamicSectionContent({ session, section }) { if (section === "pricing") { return ( <div className="text-center mb-16"> <h2 className="text-3xl md:text-4xl font-bold mb-4"> {session ? "Your Shop Management Dashboard" : "Simple, Transparent Pricing"} </h2> <p className="text-xl text-muted-foreground max-w-2xl mx-auto"> {session ? "Access your complete retail management solution. Manage inventory, track sales, and grow your business." : "Choose the plan that fits your business needs. All plans include core features."} </p> </div> ); } if (section === "cta") { return ( <> <h2 className="text-3xl md:text-4xl font-bold mb-4"> {session ? "Welcome Back to Your Shop!" : "Ready to Transform Your Shop?"} </h2> <p className="text-xl text-muted-foreground mb-8 max-w-2xl mx-auto"> {session ? "Your retail management dashboard is ready. Continue managing your inventory, sales, and business operations." : "Join hundreds of shop owners who have already modernized their operations with our comprehensive retail management solution."} </p> </> ); } return null; }
```

# .yoyo\snapshot\src\components\providers\QueryProvider.jsx

```jsx
"use client"; import { QueryClient, QueryClientProvider } from "@tanstack/react-query"; import { useState } from "react"; /** * TanStack Query provider component for client-side data fetching and caching. * Creates a query client instance and provides it to child components. * * @param {Object} props * @param {React.ReactNode} props.children - Child components * @returns {JSX.Element} Query client provider */ export default function QueryProvider({ children }) { const [queryClient] = useState( () => new QueryClient({ defaultOptions: { queries: { staleTime: 60 * 1000, // 1 minute refetchOnWindowFocus: false, }, }, }) ); return ( <QueryClientProvider client={queryClient}>{children}</QueryClientProvider> ); }
```

# .yoyo\snapshot\src\components\providers\SessionProviderWrapper.jsx

```jsx
"use client"; import { SessionProvider } from "next-auth/react"; /** * Client-side wrapper for NextAuth.js SessionProvider. * This component makes the session context available to all child components. * * @param {{ * children: React.ReactNode; * session?: import('next-auth').Session; * }} props - Component props * @returns {JSX.Element} Session provider wrapper */ export default function SessionProviderWrapper({ children, session }) { return <SessionProvider session={session}>{children}</SessionProvider>; }
```

# .yoyo\snapshot\src\components\ui\avatar.jsx

```jsx
"use client" import * as React from "react" import * as AvatarPrimitive from "@radix-ui/react-avatar" import { cn } from "@/lib/utils" const Avatar = React.forwardRef(({ className, ...props }, ref) => ( <AvatarPrimitive.Root ref={ref} className={cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full", className)} {...props} /> )) Avatar.displayName = AvatarPrimitive.Root.displayName const AvatarImage = React.forwardRef(({ className, ...props }, ref) => ( <AvatarPrimitive.Image ref={ref} className={cn("aspect-square h-full w-full", className)} {...props} /> )) AvatarImage.displayName = AvatarPrimitive.Image.displayName const AvatarFallback = React.forwardRef(({ className, ...props }, ref) => ( <AvatarPrimitive.Fallback ref={ref} className={cn( "flex h-full w-full items-center justify-center rounded-full bg-muted", className )} {...props} /> )) AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName export { Avatar, AvatarImage, AvatarFallback }
```

# .yoyo\snapshot\src\components\ui\button.jsx

```jsx
import * as React from "react" import { Slot } from "@radix-ui/react-slot" import { cva } from "class-variance-authority"; import { cn } from "@/lib/utils" const buttonVariants = cva( "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", { variants: { variant: { default: "bg-primary text-primary-foreground shadow hover:bg-primary/90", destructive: "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90", outline: "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground", secondary: "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80", ghost: "hover:bg-accent hover:text-accent-foreground", link: "text-primary underline-offset-4 hover:underline", }, size: { default: "h-9 px-4 py-2", sm: "h-8 rounded-md px-3 text-xs", lg: "h-10 rounded-md px-8", icon: "h-9 w-9", }, }, defaultVariants: { variant: "default", size: "default", }, } ) const Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => { const Comp = asChild ? Slot : "button" return ( <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} /> ); }) Button.displayName = "Button" export { Button, buttonVariants }
```

# .yoyo\snapshot\src\components\ui\card.jsx

```jsx
import * as React from "react" import { cn } from "@/lib/utils" const Card = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("rounded-xl border bg-card text-card-foreground shadow", className)} {...props} /> )) Card.displayName = "Card" const CardHeader = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("flex flex-col space-y-1.5 p-6", className)} {...props} /> )) CardHeader.displayName = "CardHeader" const CardTitle = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("font-semibold leading-none tracking-tight", className)} {...props} /> )) CardTitle.displayName = "CardTitle" const CardDescription = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} /> )) CardDescription.displayName = "CardDescription" const CardContent = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("p-6 pt-0", className)} {...props} /> )) CardContent.displayName = "CardContent" const CardFooter = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("flex items-center p-6 pt-0", className)} {...props} /> )) CardFooter.displayName = "CardFooter" export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
```

# .yoyo\snapshot\src\components\ui\dialog.jsx

```jsx
"use client" import * as React from "react" import * as DialogPrimitive from "@radix-ui/react-dialog" import { X } from "lucide-react" import { cn } from "@/lib/utils" const Dialog = DialogPrimitive.Root const DialogTrigger = DialogPrimitive.Trigger const DialogPortal = DialogPrimitive.Portal const DialogClose = DialogPrimitive.Close const DialogOverlay = React.forwardRef(({ className, ...props }, ref) => ( <DialogPrimitive.Overlay ref={ref} className={cn( "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", className )} {...props} /> )) DialogOverlay.displayName = DialogPrimitive.Overlay.displayName const DialogContent = React.forwardRef(({ className, children, ...props }, ref) => ( <DialogPortal> <DialogOverlay /> <DialogPrimitive.Content ref={ref} className={cn( "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", className )} {...props}> {children} <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"> <X className="h-4 w-4" /> <span className="sr-only">Close</span> </DialogPrimitive.Close> </DialogPrimitive.Content> </DialogPortal> )) DialogContent.displayName = DialogPrimitive.Content.displayName const DialogHeader = ({ className, ...props }) => ( <div className={cn("flex flex-col space-y-1.5 text-center sm:text-left", className)} {...props} /> ) DialogHeader.displayName = "DialogHeader" const DialogFooter = ({ className, ...props }) => ( <div className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)} {...props} /> ) DialogFooter.displayName = "DialogFooter" const DialogTitle = React.forwardRef(({ className, ...props }, ref) => ( <DialogPrimitive.Title ref={ref} className={cn("text-lg font-semibold leading-none tracking-tight", className)} {...props} /> )) DialogTitle.displayName = DialogPrimitive.Title.displayName const DialogDescription = React.forwardRef(({ className, ...props }, ref) => ( <DialogPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} /> )) DialogDescription.displayName = DialogPrimitive.Description.displayName export { Dialog, DialogPortal, DialogOverlay, DialogTrigger, DialogClose, DialogContent, DialogHeader, DialogFooter, DialogTitle, DialogDescription, }
```

# .yoyo\snapshot\src\components\ui\dropdown-menu.jsx

```jsx
"use client" import * as React from "react" import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu" import { Check, ChevronRight, Circle } from "lucide-react" import { cn } from "@/lib/utils" const DropdownMenu = DropdownMenuPrimitive.Root const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger const DropdownMenuGroup = DropdownMenuPrimitive.Group const DropdownMenuPortal = DropdownMenuPrimitive.Portal const DropdownMenuSub = DropdownMenuPrimitive.Sub const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup const DropdownMenuSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => ( <DropdownMenuPrimitive.SubTrigger ref={ref} className={cn( "flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", inset && "pl-8", className )} {...props}> {children} <ChevronRight className="ml-auto" /> </DropdownMenuPrimitive.SubTrigger> )) DropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName const DropdownMenuSubContent = React.forwardRef(({ className, ...props }, ref) => ( <DropdownMenuPrimitive.SubContent ref={ref} className={cn( "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", className )} {...props} /> )) DropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName const DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => ( <DropdownMenuPrimitive.Portal> <DropdownMenuPrimitive.Content ref={ref} sideOffset={sideOffset} className={cn( "z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md", "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", className )} {...props} /> </DropdownMenuPrimitive.Portal> )) DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName const DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => ( <DropdownMenuPrimitive.Item ref={ref} className={cn( "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0", inset && "pl-8", className )} {...props} /> )) DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName const DropdownMenuCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => ( <DropdownMenuPrimitive.CheckboxItem ref={ref} className={cn( "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", className )} checked={checked} {...props}> <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"> <DropdownMenuPrimitive.ItemIndicator> <Check className="h-4 w-4" /> </DropdownMenuPrimitive.ItemIndicator> </span> {children} </DropdownMenuPrimitive.CheckboxItem> )) DropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName const DropdownMenuRadioItem = React.forwardRef(({ className, children, ...props }, ref) => ( <DropdownMenuPrimitive.RadioItem ref={ref} className={cn( "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", className )} {...props}> <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"> <DropdownMenuPrimitive.ItemIndicator> <Circle className="h-2 w-2 fill-current" /> </DropdownMenuPrimitive.ItemIndicator> </span> {children} </DropdownMenuPrimitive.RadioItem> )) DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName const DropdownMenuLabel = React.forwardRef(({ className, inset, ...props }, ref) => ( <DropdownMenuPrimitive.Label ref={ref} className={cn("px-2 py-1.5 text-sm font-semibold", inset && "pl-8", className)} {...props} /> )) DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName const DropdownMenuSeparator = React.forwardRef(({ className, ...props }, ref) => ( <DropdownMenuPrimitive.Separator ref={ref} className={cn("-mx-1 my-1 h-px bg-muted", className)} {...props} /> )) DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName const DropdownMenuShortcut = ({ className, ...props }) => { return ( <span className={cn("ml-auto text-xs tracking-widest opacity-60", className)} {...props} /> ); } DropdownMenuShortcut.displayName = "DropdownMenuShortcut" export { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuCheckboxItem, DropdownMenuRadioItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuShortcut, DropdownMenuGroup, DropdownMenuPortal, DropdownMenuSub, DropdownMenuSubContent, DropdownMenuSubTrigger, DropdownMenuRadioGroup, }
```

# .yoyo\snapshot\src\components\ui\feature-card.jsx

```jsx
import { Card, CardContent, CardDescription } from "@/components/ui/card"; /** * Feature card component for displaying product features in a visually appealing format. * * @param {Object} props * @param {React.ReactNode} props.icon - Icon component from lucide-react * @param {string} props.title - Feature title * @param {string} props.description - Feature description text * @returns {JSX.Element} Feature card component */ export default function FeatureCard({ icon, title, description }) { return ( <Card className="h-full"> <CardContent className="p-6 text-center"> <div className="flex justify-center mb-4"> <div className="p-3 bg-primary/10 rounded-lg">{icon}</div> </div> <h3 className="text-lg font-semibold mb-2">{title}</h3> <CardDescription className="text-muted-foreground"> {description} </CardDescription> </CardContent> </Card> ); }
```

# .yoyo\snapshot\src\components\ui\pricing-card.jsx

```jsx
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle, } from "@/components/ui/card"; import { Check } from "lucide-react"; /** * Pricing card component for displaying subscription tier details. * * @param {Object} props * @param {string} props.planName - Name of the subscription plan * @param {string} props.price - Price display text * @param {string} props.description - Plan description * @param {string[]} props.features - Array of feature strings * @param {React.ReactNode} props.children - Call-to-action button passed from parent * @param {boolean} [props.recommended] - Whether this is the recommended plan * @returns {JSX.Element} Pricing card component */ export default function PricingCard({ planName, price, description, features = [], children, recommended = false, }) { return ( <Card className={`h-full ${recommended ? "border-primary border-2" : ""}`}> <CardHeader className="text-center"> {recommended && ( <div className="bg-primary text-primary-foreground text-sm font-semibold py-1 px-3 rounded-full mx-auto mb-2 w-fit"> Recommended </div> )} <CardTitle className="text-2xl">{planName}</CardTitle> <div className="text-3xl font-bold text-primary">{price}</div> <CardDescription>{description}</CardDescription> </CardHeader> <CardContent className="flex-grow"> <ul className="space-y-3"> {features.map((feature, index) => ( <li key={index} className="flex items-center gap-2"> <Check className="h-4 w-4 text-primary flex-shrink-0" /> <span className="text-sm">{feature}</span> </li> ))} </ul> </CardContent> <CardFooter className="flex justify-center"> <div className="w-full">{children}</div> </CardFooter> </Card> ); }
```

# .yoyo\snapshot\src\components\ui\primary-button.jsx

```jsx
import { Button } from "@/components/ui/button"; /** * Primary action button component that adheres to the application's design system. * This component wraps the shadcn/ui Button with consistent primary styling. * * @param {Object} props - All standard button props are forwarded to the underlying Button component * @param {React.ReactNode} props.children - Button content * @param {Function} [props.onClick] - Click handler * @param {string} [props.type] - Button type (button, submit, reset) * @param {boolean} [props.disabled] - Whether the button is disabled * @param {string} [props.className] - Additional CSS classes * @returns {JSX.Element} Styled primary button */ export default function PrimaryButton({ children, ...props }) { return ( <Button variant="default" className="bg-primary text-primary-foreground hover:bg-primary/90 font-semibold" {...props} > {children} </Button> ); }
```

# .yoyo\snapshot\src\lib\auth.config.js

```js
import GoogleProvider from "next-auth/providers/google"; import { upsertUserAndCreateShop } from "./services/user-service"; // <-- IMPORT THE SERVICE /** * @type {import('next-auth').NextAuthConfig} */ export const authConfig = { providers: [ GoogleProvider({ clientId: process.env.AUTH_GOOGLE_ID, clientSecret: process.env.AUTH_GOOGLE_SECRET, }), ], session: { strategy: "jwt", }, pages: { signIn: "/login", }, callbacks: { /** * This callback is triggered on a successful sign-in. * It now calls our encapsulated service function to handle database operations. */ async signIn({ user, account }) { if (account?.provider !== "google") return false; try { // Call the service function to handle user creation/verification. const dbUser = await upsertUserAndCreateShop(user); // If the service function returns a user, the sign-in is successful. // If it returns null (due to an error), the sign-in is blocked. return dbUser !== null; } catch (error) { console.error("Sign-in callback error:", error); // Prevent sign-in on unexpected errors. return false; } }, // ... (the rest of your authorized, jwt, and session callbacks remain unchanged) ... authorized({ auth, request: { nextUrl } }) { const isLoggedIn = !!auth?.user; const isOnDashboard = nextUrl.pathname.startsWith("/dashboard"); if (isOnDashboard) { if (isLoggedIn) return true; return false; } else if (isLoggedIn) { if (nextUrl.pathname === "/login") { return Response.redirect(new URL("/dashboard", nextUrl)); } return true; } return true; }, async jwt({ token, user, account }) { if (account && user) { token.id = user.id; } return token; }, async session({ session, token }) { if (token.id && session.user) { // @ts-ignore session.user.id = token.id; } return session; }, }, };
```

# .yoyo\snapshot\src\lib\config\landing-page-config.js

```js
import { BarChart3, Package, Receipt, Users, TrendingUp, Shield, } from "lucide-react"; /** * Landing page content configuration * Centralizes all static content for the landing page to improve maintainability * and separate concerns between data and presentation. */ /** * Feature cards data for the Features section * @type {Array<{title: string, description: string, icon: React.ReactNode}>} */ export const featureCardsData = [ { title: "Inventory Management", description: "Track stock levels, manage products, and get alerts when items are running low.", icon: <Package className="h-8 w-8 text-primary" />, }, { title: "Sales Processing", description: "Fast, keyboard-friendly sales recording with flexible pricing and payment options.", icon: <Receipt className="h-8 w-8 text-primary" />, }, { title: "Financial Reporting", description: "Comprehensive reports on sales, profits, and business performance.", icon: <BarChart3 className="h-8 w-8 text-primary" />, }, { title: "Customer Management", description: "Track customer purchases, manage credit accounts, and build relationships.", icon: <Users className="h-8 w-8 text-primary" />, }, { title: "Business Analytics", description: "Gain insights into your business with detailed analytics and trends.", icon: <TrendingUp className="h-8 w-8 text-primary" />, }, { title: "Secure & Reliable", description: "Your data is protected with enterprise-grade security and regular backups.", icon: <Shield className="h-8 w-8 text-primary" />, }, ]; /** * Pricing plans data for the Pricing section * @type {Array<{planName: string, price: string, description: string, features: string[], recommended: boolean, ctaText: string}>} */ export const pricingPlansData = [ { planName: "Basic", price: "Free", description: "Perfect for small shops getting started", features: [ "Up to 100 products", "Basic sales tracking", "Simple inventory management", "Email support", ], recommended: false, ctaText: "Get Started", }, { planName: "Standard", price: "$19/month", description: "Most popular choice for growing businesses", features: [ "Up to 1,000 products", "Advanced reporting", "Customer management", "Multi-user access", "Priority support", ], recommended: true, ctaText: "Start Free Trial", }, { planName: "Premium", price: "$39/month", description: "For established shops with advanced needs", features: [ "Unlimited products", "Advanced analytics", "Custom integrations", "Dedicated support", "Custom training", ], recommended: false, ctaText: "Start Free Trial", }, ];
```

# .yoyo\snapshot\src\lib\prisma.js

```js
import { PrismaClient } from "@prisma/client"; /** * This module provides a singleton instance of the Prisma Client. * * In a serverless environment or during development with hot-reloading, * it's crucial to prevent creating multiple instances of PrismaClient, * which can exhaust the database connection pool. * * This pattern checks for an existing instance on the global object * and reuses it if available, creating a new one otherwise. */ // Add prisma to the NodeJS global type /** @type {{ prisma: PrismaClient | undefined }} */ const globalForPrisma = global; const prisma = globalForPrisma.prisma ?? new PrismaClient({ // Optional: Log database queries for debugging purposes // log: ['query', 'info', 'warn', 'error'], }); // In development, store the prisma instance on the global object to reuse across hot-reloads. if (process.env.NODE_ENV !== "production") { globalForPrisma.prisma = prisma; } export default prisma;
```

# .yoyo\snapshot\src\lib\services\user-service.js

```js
import prisma from "@/lib/prisma"; /** * Handles the creation of a new user and their associated shop and subscription * in a single atomic transaction. If the user already exists, it does nothing. * This is an "upsert" pattern specifically for the initial user sign-up. * * @param {import('next-auth').User} user - The user object from the Auth.js callback. * @returns {Promise<import('@prisma/client').User | null>} The created or existing user, or null on failure. */ export async function upsertUserAndCreateShop(user) { if (!user || !user.email) { console.error("Invalid user object provided for upsert."); return null; } try { // Check if the user already exists in our database const existingUser = await prisma.user.findUnique({ where: { email: user.email }, }); // If the user already exists, the process is successful. Return the user. if (existingUser) { return existingUser; } // If the user is new, create the User, Shop, and Subscription // in a single atomic transaction to ensure data integrity. const newUser = await prisma.$transaction(async (tx) => { const createdUser = await tx.user.create({ data: { name: user.name, email: user.email, image: user.image, role: "SHOP_OWNER", // New users are always the Shop Owner }, }); const createdShop = await tx.shop.create({ data: { name: `${user.name}'s Shop`, // A sensible default shop name ownerId: createdUser.id, }, }); // Set up the initial 14-day free trial subscription const trialEndDate = new Date(); trialEndDate.setDate(trialEndDate.getDate() + 14); await tx.subscription.create({ data: { shopId: createdShop.id, plan: "FREE_TRIAL", status: "TRIALING", endDate: trialEndDate, }, }); return createdUser; }); return newUser; } catch (error) { console.error("Failed to upsert user and create shop:", error); // Return null to indicate failure, which can be handled in the auth callback. return null; } }
```

# .yoyo\snapshot\src\lib\utils.js

```js
import { clsx } from "clsx"; import { twMerge } from "tailwind-merge" export function cn(...inputs) { return twMerge(clsx(inputs)); }
```

# .yoyo\snapshot\src\middleware.js

```js
import NextAuth from "next-auth"; import { authConfig } from "./lib/auth.config"; /** * Initializes and exports the NextAuth.js middleware. * This function leverages the `authorized` callback within `authConfig` * to protect application routes. */ export default NextAuth(authConfig).auth; /** * The matcher configuration specifies which routes the middleware will run on. * This pattern ensures the middleware is applied to all paths except for * static assets and internal Next.js files, providing comprehensive security. */ export const config = { matcher: [ /* * Match all request paths except for the ones starting with: * - api (API routes, which have their own auth checks) * - _next/static (static files) * - _next/image (image optimization files) * - favicon.ico (favicon file) */ "/((?!api|_next/static|_next/image|favicon.ico).*)", ], };
```

# .yoyo\snapshot\tailwind.config.mjs

```mjs
/** @type {import('tailwindcss').Config} */ export default { darkMode: ["class"], content: [ "./src/pages/**/*.{js,ts,jsx,tsx,mdx}", "./src/components/**/*.{js,ts,jsx,tsx,mdx}", "./src/app/**/*.{js,ts,jsx,tsx,mdx}", ], theme: { extend: { colors: { background: 'hsl(var(--background))', foreground: 'hsl(var(--foreground))', card: { DEFAULT: 'hsl(var(--card))', foreground: 'hsl(var(--card-foreground))' }, popover: { DEFAULT: 'hsl(var(--popover))', foreground: 'hsl(var(--popover-foreground))' }, primary: { DEFAULT: 'hsl(var(--primary))', foreground: 'hsl(var(--primary-foreground))' }, secondary: { DEFAULT: 'hsl(var(--secondary))', foreground: 'hsl(var(--secondary-foreground))' }, muted: { DEFAULT: 'hsl(var(--muted))', foreground: 'hsl(var(--muted-foreground))' }, accent: { DEFAULT: 'hsl(var(--accent))', foreground: 'hsl(var(--accent-foreground))' }, destructive: { DEFAULT: 'hsl(var(--destructive))', foreground: 'hsl(var(--destructive-foreground))' }, border: 'hsl(var(--border))', input: 'hsl(var(--input))', ring: 'hsl(var(--ring))', chart: { '1': 'hsl(var(--chart-1))', '2': 'hsl(var(--chart-2))', '3': 'hsl(var(--chart-3))', '4': 'hsl(var(--chart-4))', '5': 'hsl(var(--chart-5))' } }, borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' } } }, plugins: [require("tailwindcss-animate")], };
```

# components.json

```json
{ "$schema": "https://ui.shadcn.com/schema.json", "style": "new-york", "rsc": true, "tsx": false, "tailwind": { "config": "tailwind.config.mjs", "css": "src/app/globals.css", "baseColor": "zinc", "cssVariables": true, "prefix": "" }, "aliases": { "components": "@/components", "utils": "@/lib/utils", "ui": "@/components/ui", "lib": "@/lib", "hooks": "@/hooks" }, "iconLibrary": "lucide" }
```

# eslint.config.mjs

```mjs
import { dirname } from "path"; import { fileURLToPath } from "url"; import { FlatCompat } from "@eslint/eslintrc"; const __filename = fileURLToPath(import.meta.url); const __dirname = dirname(__filename); const compat = new FlatCompat({ baseDirectory: __dirname, }); const eslintConfig = [...compat.extends("next/core-web-vitals")]; export default eslintConfig;
```

# jsconfig.json

```json
{ "compilerOptions": { "baseUrl": ".", "paths": { "@/*": ["src/*"] }, "checkJs": true, "jsx": "preserve", "lib": ["dom", "dom.iterable", "esnext"], "allowJs": true, "skipLibCheck": true, "strict": false, "noEmit": true, "incremental": true, "module": "esnext", "moduleResolution": "node", "resolveJsonModule": true, "isolatedModules": true }, "include": ["next-env.d.ts", "src/**/*.js", "src/**/*.jsx"], "exclude": ["node_modules"] }
```

# next.config.mjs

```mjs
/** @type {import('next').NextConfig} */ const nextConfig = {}; export default nextConfig;
```

# package.json

```json
{ "name": "inventory-nextjs", "version": "0.1.0", "private": true, "scripts": { "dev": "next dev", "build": "next build", "start": "next start", "lint": "next lint" }, "dependencies": { "@prisma/client": "^6.11.1", "@radix-ui/react-avatar": "^1.1.10", "@radix-ui/react-dialog": "^1.1.14", "@radix-ui/react-dropdown-menu": "^2.1.15", "@radix-ui/react-slot": "^1.2.3", "@tanstack/react-query": "^5.81.5", "class-variance-authority": "^0.7.1", "clsx": "^2.1.1", "lucide-react": "^0.515.0", "next": "^15.3.3", "next-auth": "^5.0.0-beta.29", "react": "^19.0.0", "react-dom": "^19.0.0", "tailwind-merge": "^3.3.1", "tailwindcss-animate": "^1.0.7", "zod": "^3.25.72" }, "devDependencies": { "@eslint/eslintrc": "^3", "eslint": "^9", "eslint-config-next": "15.1.7", "postcss": "^8", "prisma": "^6.11.1", "tailwindcss": "^3.4.1" } }
```

# postcss.config.mjs

```mjs
/** @type {import('postcss-load-config').Config} */ const config = { plugins: { tailwindcss: {}, }, }; export default config;
```

# prisma\migrations\20250704070823_init_auth_and_user_schema\migration.sql

```sql
-- CreateEnum CREATE TYPE "Role" AS ENUM ('SHOP_OWNER', 'SHOP_STAFF'); -- CreateEnum CREATE TYPE "SubscriptionPlan" AS ENUM ('FREE_TRIAL', 'BASIC', 'STANDARD', 'PREMIUM'); -- CreateEnum CREATE TYPE "SubscriptionStatus" AS ENUM ('TRIALING', 'ACTIVE', 'EXPIRED', 'CANCELED'); -- CreateTable CREATE TABLE "User" ( "id" TEXT NOT NULL, "name" TEXT, "email" TEXT, "emailVerified" TIMESTAMP(3), "image" TEXT, "role" "Role" NOT NULL DEFAULT 'SHOP_OWNER', CONSTRAINT "User_pkey" PRIMARY KEY ("id") ); -- CreateTable CREATE TABLE "Account" ( "id" TEXT NOT NULL, "userId" TEXT NOT NULL, "type" TEXT NOT NULL, "provider" TEXT NOT NULL, "providerAccountId" TEXT NOT NULL, "refresh_token" TEXT, "access_token" TEXT, "expires_at" INTEGER, "token_type" TEXT, "scope" TEXT, "id_token" TEXT, "session_state" TEXT, CONSTRAINT "Account_pkey" PRIMARY KEY ("id") ); -- CreateTable CREATE TABLE "Session" ( "id" TEXT NOT NULL, "sessionToken" TEXT NOT NULL, "userId" TEXT NOT NULL, "expires" TIMESTAMP(3) NOT NULL, CONSTRAINT "Session_pkey" PRIMARY KEY ("id") ); -- CreateTable CREATE TABLE "VerificationToken" ( "identifier" TEXT NOT NULL, "token" TEXT NOT NULL, "expires" TIMESTAMP(3) NOT NULL ); -- CreateTable CREATE TABLE "Shop" ( "id" TEXT NOT NULL, "name" TEXT NOT NULL, "ownerId" TEXT NOT NULL, CONSTRAINT "Shop_pkey" PRIMARY KEY ("id") ); -- CreateTable CREATE TABLE "Subscription" ( "id" TEXT NOT NULL, "shopId" TEXT NOT NULL, "plan" "SubscriptionPlan" NOT NULL DEFAULT 'FREE_TRIAL', "status" "SubscriptionStatus" NOT NULL DEFAULT 'TRIALING', "startDate" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP, "endDate" TIMESTAMP(3) NOT NULL, CONSTRAINT "Subscription_pkey" PRIMARY KEY ("id") ); -- CreateIndex CREATE UNIQUE INDEX "User_email_key" ON "User"("email"); -- CreateIndex CREATE INDEX "Account_userId_idx" ON "Account"("userId"); -- CreateIndex CREATE UNIQUE INDEX "Account_provider_providerAccountId_key" ON "Account"("provider", "providerAccountId"); -- CreateIndex CREATE UNIQUE INDEX "Session_sessionToken_key" ON "Session"("sessionToken"); -- CreateIndex CREATE INDEX "Session_userId_idx" ON "Session"("userId"); -- CreateIndex CREATE UNIQUE INDEX "VerificationToken_token_key" ON "VerificationToken"("token"); -- CreateIndex CREATE UNIQUE INDEX "VerificationToken_identifier_token_key" ON "VerificationToken"("identifier", "token"); -- CreateIndex CREATE UNIQUE INDEX "Shop_ownerId_key" ON "Shop"("ownerId"); -- CreateIndex CREATE INDEX "Shop_ownerId_idx" ON "Shop"("ownerId"); -- CreateIndex CREATE UNIQUE INDEX "Subscription_shopId_key" ON "Subscription"("shopId"); -- CreateIndex CREATE INDEX "Subscription_shopId_idx" ON "Subscription"("shopId"); -- AddForeignKey ALTER TABLE "Account" ADD CONSTRAINT "Account_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE; -- AddForeignKey ALTER TABLE "Session" ADD CONSTRAINT "Session_userId_fkey" FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE; -- AddForeignKey ALTER TABLE "Shop" ADD CONSTRAINT "Shop_ownerId_fkey" FOREIGN KEY ("ownerId") REFERENCES "User"("id") ON DELETE RESTRICT ON UPDATE CASCADE; -- AddForeignKey ALTER TABLE "Subscription" ADD CONSTRAINT "Subscription_shopId_fkey" FOREIGN KEY ("shopId") REFERENCES "Shop"("id") ON DELETE CASCADE ON UPDATE CASCADE;
```

# prisma\migrations\migration_lock.toml

```toml
# Please do not edit this file manually # It should be added in your version-control system (e.g., Git) provider = "postgresql"
```

# prisma\schema.prisma

```prisma
// This is your Prisma schema file, // learn more about it in the docs: https://pris.ly/d/prisma-schema generator client { provider = "prisma-client-js" } datasource db { provider = "postgresql" url = env("DATABASE_URL") } // ENUMS // Defines the user roles within the application. enum Role { SHOP_OWNER SHOP_STAFF } // Defines the available subscription plans. enum SubscriptionPlan { FREE_TRIAL BASIC STANDARD PREMIUM } // Defines the status of a subscription. enum SubscriptionStatus { TRIALING ACTIVE EXPIRED CANCELED } // MODELS // Represents a user account in the system, compatible with NextAuth.js. model User { id String @id @default(cuid()) name String? email String? @unique emailVerified DateTime? image String? role Role @default(SHOP_OWNER) // A user can own one shop. This is a virtual field for Prisma Client. // It does NOT define fields or references. shop Shop? // NextAuth.js required relations accounts Account[] sessions Session[] } // NextAuth.js model for linking OAuth accounts to a User. model Account { id String @id @default(cuid()) userId String type String provider String providerAccountId String refresh_token String? @db.Text access_token String? @db.Text expires_at Int? token_type String? scope String? id_token String? @db.Text session_state String? user User @relation(fields: [userId], references: [id], onDelete: Cascade) @@unique([provider, providerAccountId]) @@index([userId]) } // NextAuth.js model for database-based sessions. model Session { id String @id @default(cuid()) sessionToken String @unique userId String expires DateTime user User @relation(fields: [userId], references: [id], onDelete: Cascade) @@index([userId]) } // NextAuth.js model for email verification tokens. model VerificationToken { identifier String token String @unique expires DateTime @@unique([identifier, token]) } // Represents a single retail shop, the central entity for an account. model Shop { id String @id @default(cuid()) name String // This field holds the foreign key. ownerId String @unique // This relation field defines how 'ownerId' connects to the User model. owner User @relation(fields: [ownerId], references: [id], onDelete: Restrict) // Each shop has one subscription. subscription Subscription? @@index([ownerId]) } // Manages the subscription details for a Shop. model Subscription { id String @id @default(cuid()) shopId String @unique plan SubscriptionPlan @default(FREE_TRIAL) status SubscriptionStatus @default(TRIALING) startDate DateTime @default(now()) endDate DateTime shop Shop @relation(fields: [shopId], references: [id], onDelete: Cascade) @@index([shopId]) }
```

# public\file.svg

This is a file of the type: SVG Image

# public\globe.svg

This is a file of the type: SVG Image

# public\next.svg

This is a file of the type: SVG Image

# public\vercel.svg

This is a file of the type: SVG Image

# public\window.svg

This is a file of the type: SVG Image

# README.md

```md
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://github.com/vercel/next.js/tree/canary/packages/create-next-app). ## Getting Started First, run the development server: \`\`\`bash npm run dev # or yarn dev # or pnpm dev # or bun dev \`\`\` Open [http://localhost:3000](http://localhost:3000) with your browser to see the result. You can start editing the page by modifying `app/page.js`. The page auto-updates as you edit the file. This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel. ## Learn More To learn more about Next.js, take a look at the following resources: - [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API. - [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial. You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome! ## Deploy on Vercel The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js. Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.
```

# src\app\api\auth\[...nextauth]\route.js

```js
/** * This is the catch-all API route for NextAuth.js. * It exports the GET and POST handlers from the main auth configuration. * All authentication-related requests (e.g., /api/auth/signin/google, /api/auth/callback/google) * are handled by this single route. * * @see /src/auth.js */ import { GET, POST } from "@/auth"; export { GET, POST };
```

# src\app\favicon.ico

This is a binary file of the type: Binary

# src\app\globals.css

```css
@tailwind base; @tailwind components; @tailwind utilities; body { font-family: var(--font-sans), Arial, Helvetica, sans-serif; } @layer base { :root { --background: 0 0% 100%; --foreground: 240 10% 3.9%; --card: 0 0% 100%; --card-foreground: 240 10% 3.9%; --popover: 0 0% 100%; --popover-foreground: 240 10% 3.9%; --primary: 37 100% 59%; --primary-foreground: 240 10% 3.9%; --secondary: 240 4.8% 95.9%; --secondary-foreground: 240 5.9% 10%; --muted: 240 4.8% 95.9%; --muted-foreground: 240 3.8% 46.1%; --accent: 240 4.8% 95.9%; --accent-foreground: 240 5.9% 10%; --destructive: 0 84.2% 60.2%; --destructive-foreground: 0 0% 98%; --border: 240 5.9% 90%; --input: 240 5.9% 90%; --ring: 240 10% 3.9%; --chart-1: 12 76% 61%; --chart-2: 173 58% 39%; --chart-3: 197 37% 24%; --chart-4: 43 74% 66%; --chart-5: 27 87% 67%; --radius: 0.5rem; } .dark { --background: 26 39% 10%; --foreground: 0 0% 98%; --card: 26 39% 10%; --card-foreground: 0 0% 98%; --popover: 26 39% 10%; --popover-foreground: 0 0% 98%; --primary: 37 100% 59%; --primary-foreground: 240 10% 3.9%; --secondary: 240 3.7% 15.9%; --secondary-foreground: 0 0% 98%; --muted: 240 3.7% 15.9%; --muted-foreground: 240 5% 64.9%; --accent: 240 3.7% 15.9%; --accent-foreground: 0 0% 98%; --destructive: 0 62.8% 30.6%; --destructive-foreground: 0 0% 98%; --border: 240 3.7% 15.9%; --input: 240 3.7% 15.9%; --ring: 240 4.9% 83.9%; --chart-1: 220 70% 50%; --chart-2: 160 60% 45%; --chart-3: 30 80% 55%; --chart-4: 280 65% 60%; --chart-5: 340 75% 55%; } } @layer base { * { @apply border-border; } body { @apply bg-background text-foreground; } }
```

# src\app\layout.jsx

```jsx
import { Nunito } from "next/font/google"; import SessionProviderWrapper from "@/components/providers/SessionProviderWrapper"; import QueryProvider from "@/components/providers/QueryProvider"; import "./globals.css"; // Font setup as per the design guide (guide-12). // Using a CSS variable is a robust way to integrate with Tailwind CSS. const nunito = Nunito({ subsets: ["latin"], display: "swap", variable: "--font-sans", }); /** * @type {import('next').Metadata} */ export const metadata = { title: "Retail Inventory & Finance Manager", description: "Take Control of Your Shop with a modern inventory and finance management solution.", }; /** * The root layout for the entire application. * * This component establishes the global HTML structure, applies the primary font, * and wraps the application in essential client-side context providers. * * @param {{ children: React.ReactNode }} props */ export default function RootLayout({ children }) { return ( <html lang="en" suppressHydrationWarning> <body className={nunito.variable}> {/* The SessionProviderWrapper makes the NextAuth.js session available to all client components via the `useSession` hook. */} <SessionProviderWrapper> {/* The QueryProvider sets up the TanStack Query client, enabling client-side data fetching, caching, and state management. */} <QueryProvider>{children}</QueryProvider> </SessionProviderWrapper> </body> </html> ); }
```

# src\app\page.jsx

```jsx
import { auth } from "@/auth"; import AppHeader from "@/components/features/landing/app-header"; import AppFooter from "@/components/features/landing/app-footer"; import DynamicCtaButton from "@/components/features/auth/dynamic-cta-button"; import DynamicSectionContent from "@/components/features/landing/dynamic-section-content"; import FeatureCard from "@/components/ui/feature-card"; import PricingCard from "@/components/ui/pricing-card"; import { featureCardsData, pricingPlansData, } from "@/lib/config/landing-page-config"; /** * Main landing page for the Retail Inventory & Finance Manager application. * Dynamically adapts content based on user authentication status. * Serves as the entry point for both unauthenticated and authenticated users. * * @returns {JSX.Element} Landing page */ export default async function HomePage() { // Fetch the session on the server to determine authentication status const session = await auth(); return ( <div className="min-h-screen flex flex-col"> <AppHeader session={session} /> <main className="flex-grow"> {/* Hero Section */} <section className="bg-gradient-to-b from-background to-muted/20 py-16 md:py-24"> <div className="container mx-auto px-4 sm:px-6 lg:px-8 text-center"> <h1 className="text-4xl md:text-6xl font-bold tracking-tight mb-6"> Take Control of Your{" "} <span className="text-primary">Retail Shop</span> </h1> <p className="text-xl text-muted-foreground mb-8 max-w-2xl mx-auto"> Replace manual paperwork with a modern, digital solution for inventory management, sales tracking, and financial reporting designed specifically for retail shops in Uzbekistan. </p> <div className="flex flex-col sm:flex-row gap-4 justify-center"> <DynamicCtaButton session={session} className="text-lg px-8 py-6" context="hero" authenticatedText="Access Your Dashboard" > Start Free Trial </DynamicCtaButton> </div> </div> </section> {/* Features Section */} <section id="features" className="py-16 md:py-24"> <div className="container mx-auto px-4 sm:px-6 lg:px-8"> <div className="text-center mb-16"> <h2 className="text-3xl md:text-4xl font-bold mb-4"> Everything You Need to Manage Your Shop </h2> <p className="text-xl text-muted-foreground max-w-2xl mx-auto"> Streamline your operations with powerful tools designed for modern retail management. </p> </div> <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"> {featureCardsData.map((feature) => ( <FeatureCard key={feature.title} icon={feature.icon} title={feature.title} description={feature.description} /> ))} </div> </div> </section> {/* Pricing Section */} <section id="pricing" className="py-16 md:py-24 bg-muted/20"> <div className="container mx-auto px-4 sm:px-6 lg:px-8"> <DynamicSectionContent session={session} section="pricing" /> <div className="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-5xl mx-auto"> {pricingPlansData.map((plan) => ( <PricingCard key={plan.planName} planName={plan.planName} price={plan.price} description={plan.description} features={plan.features} recommended={plan.recommended} > <DynamicCtaButton session={session} className="w-full" context="pricing" authenticatedText="Manage Shop" > {plan.ctaText} </DynamicCtaButton> </PricingCard> ))} </div> </div> </section> {/* Final CTA Section */} <section className="py-16 md:py-24"> <div className="container mx-auto px-4 sm:px-6 lg:px-8 text-center"> <DynamicSectionContent session={session} section="cta" /> <DynamicCtaButton session={session} className="text-lg px-8 py-6" context="cta" authenticatedText="Continue to Dashboard" > Start Your Free Trial Today </DynamicCtaButton> </div> </section> </main> <AppFooter /> </div> ); }
```

# src\auth.js

```js
import NextAuth from "next-auth"; import { authConfig } from "./lib/auth.config"; /** * Initializes NextAuth.js with the provided configuration. * This file exports the core handlers and helper functions for authentication. * * - `handlers`: The GET and POST handlers for the catch-all API route. * - `auth`: A server-side helper to get the current session. * - `signIn`: A server-side function to initiate the sign-in process. * - `signOut`: A server-side function to initiate the sign-out process. * * @see /src/app/api/auth/[...nextauth]/route.js */ export const { handlers: { GET, POST }, auth, signIn, signOut, } = NextAuth(authConfig);
```

# src\components\features\auth\auth-modal.jsx

```jsx
"use client"; import { useState } from "react"; import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger, } from "@/components/ui/dialog"; /** * Authentication modal component that provides a modal dialog for user authentication. * This component manages its own open/closed state internally using the composition pattern. * * @param {Object} props * @param {React.ReactNode} props.trigger - Element that opens the modal when clicked * @param {React.ReactNode} props.children - Content to render inside the modal body * @returns {JSX.Element} Modal dialog for authentication */ export default function AuthModal({ trigger, children }) { const [isOpen, setIsOpen] = useState(false); return ( <Dialog open={isOpen} onOpenChange={setIsOpen}> <DialogTrigger asChild>{trigger}</DialogTrigger> <DialogContent className="sm:max-w-md"> <DialogHeader> <DialogTitle>Welcome to RetailManager</DialogTitle> <DialogDescription> Sign in to start managing your shop's inventory and finances. </DialogDescription> </DialogHeader> <div className="flex flex-col space-y-4 py-4">{children}</div> </DialogContent> </Dialog> ); }
```

# src\components\features\auth\dynamic-cta-button.jsx

```jsx
import Link from "next/link"; import AuthModal from "@/components/features/auth/auth-modal"; import LoginButton from "@/components/features/auth/login-button"; import PrimaryButton from "@/components/ui/primary-button"; /** * Dynamic Call-to-Action button component that renders different actions * based on the user's authentication status. * * This Server Component encapsulates the session-based conditional logic * to eliminate code duplication across the landing page. * * @param {Object} props * @param {Object|null} props.session - The user session object from auth() * @param {React.ReactNode} props.children - Button text content for unauthenticated users * @param {string} [props.className] - Additional CSS classes for the button * @param {string} [props.authenticatedText] - Custom text to show when user is authenticated * @param {string} [props.context] - Context for the button (e.g., 'pricing', 'hero', 'cta') * @param {...any} props.rest - Other props passed to the underlying PrimaryButton * @returns {JSX.Element} Either a Link to dashboard or AuthModal with LoginButton */ export default function DynamicCtaButton({ session, children, className, authenticatedText, context = "default", ...props }) { if (session) { // User is authenticated - provide contextual button text let buttonText = authenticatedText; if (!buttonText) { // Default authenticated text based on context switch (context) { case "pricing": buttonText = "Go to Dashboard"; break; case "hero": buttonText = "Go to Dashboard"; break; case "cta": buttonText = "Access Your Dashboard"; break; default: buttonText = "Go to Dashboard"; } } return ( <Link href="/dashboard"> <PrimaryButton className={className} {...props}> {buttonText} </PrimaryButton> </Link> ); } // User is not authenticated - show auth modal return ( <AuthModal trigger={ <PrimaryButton className={className} {...props}> {children} </PrimaryButton> } > <LoginButton /> </AuthModal> ); }
```

# src\components\features\auth\login-button.jsx

```jsx
"use client"; import { signIn, useSession } from "next-auth/react"; import PrimaryButton from "@/components/ui/primary-button"; /** * Login button component that initiates Google OAuth authentication flow. * * @returns {JSX.Element} Google sign-in button */ export default function LoginButton() { const { status } = useSession(); const isLoading = status === "loading"; const handleSignIn = () => { signIn("google", { callbackUrl: "/dashboard" }); }; return ( <PrimaryButton onClick={handleSignIn} disabled={isLoading} className="w-full flex items-center justify-center gap-2" > <svg className="w-5 h-5" viewBox="0 0 24 24"> <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" /> <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" /> <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" /> <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" /> </svg> {isLoading ? "Loading..." : "Continue with Google"} </PrimaryButton> ); }
```

# src\components\features\auth\user-dropdown.jsx

```jsx

```

# src\components\features\auth\user-nav.jsx

```jsx
"use client"; import Link from "next/link"; import { signOut } from "next-auth/react"; import { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuTrigger, } from "@/components/ui/dropdown-menu"; import { Avatar, AvatarFallback, AvatarImage } from "@/components/ui/avatar"; /** * Interactive user navigation component for authenticated users. * Displays the user's avatar and provides a dropdown menu with user-specific actions. * * @param {Object} props * @param {Object} props.user - The authenticated user object * @param {string} props.user.name - User's display name * @param {string} props.user.image - URL to user's avatar image * @param {string} [props.user.email] - User's email address (optional) * @returns {JSX.Element} User navigation dropdown component */ export default function UserNav({ user }) { /** * Generates user initials from the user's name * @param {string} name - User's full name * @returns {string} User's initials (e.g., "John Doe" -> "JD") */ const getInitials = (name) => { if (!name) return "U"; return name .split(" ") .map((part) => part.charAt(0)) .join("") .toUpperCase() .slice(0, 2); }; const handleSignOut = () => { signOut({ callbackUrl: "/" }); }; return ( <DropdownMenu> <DropdownMenuTrigger className="focus:outline-none"> <Avatar className="h-8 w-8 cursor-pointer"> <AvatarImage src={user?.image} alt={user?.name || "User avatar"} /> <AvatarFallback className="bg-primary text-primary-foreground text-sm font-semibold"> {getInitials(user?.name)} </AvatarFallback> </Avatar> </DropdownMenuTrigger> <DropdownMenuContent align="end" className="w-56"> <DropdownMenuLabel className="font-normal"> <div className="flex flex-col space-y-1"> <p className="text-sm font-medium leading-none">{user?.name}</p> {user?.email && ( <p className="text-xs leading-none text-muted-foreground"> {user.email} </p> )} </div> </DropdownMenuLabel> <DropdownMenuSeparator /> <DropdownMenuItem asChild> <Link href="/dashboard" className="cursor-pointer"> Dashboard </Link> </DropdownMenuItem> <DropdownMenuSeparator /> <DropdownMenuItem onClick={handleSignOut} className="cursor-pointer text-red-600 focus:text-red-600" > Sign Out </DropdownMenuItem> </DropdownMenuContent> </DropdownMenu> ); }
```

# src\components\features\landing\app-footer.jsx

```jsx
/** * Public footer component providing standard footer content and legal information. * * @returns {JSX.Element} Footer component */ export default function AppFooter() { const currentYear = new Date().getFullYear(); return ( <footer className="border-t bg-background"> <div className="container mx-auto px-4 sm:px-6 lg:px-8 py-8"> <div className="grid grid-cols-1 md:grid-cols-4 gap-8"> {/* Brand Section */} <div className="md:col-span-2"> <h3 className="text-lg font-semibold text-primary mb-4"> RetailManager </h3> <p className="text-sm text-muted-foreground max-w-md"> Modern inventory and finance management solution designed specifically for retail shops in Uzbekistan. </p> </div> {/* Product Links */} <div> <h4 className="text-sm font-semibold mb-4">Product</h4> <ul className="space-y-2 text-sm text-muted-foreground"> <li> <a href="#features" className="hover:text-primary transition-colors" > Features </a> </li> <li> <a href="#pricing" className="hover:text-primary transition-colors" > Pricing </a> </li> <li> <a href="/support" className="hover:text-primary transition-colors" > Support </a> </li> </ul> </div> {/* Legal Links */} <div> <h4 className="text-sm font-semibold mb-4">Legal</h4> <ul className="space-y-2 text-sm text-muted-foreground"> <li> <a href="/privacy" className="hover:text-primary transition-colors" > Privacy Policy </a> </li> <li> <a href="/terms" className="hover:text-primary transition-colors" > Terms of Service </a> </li> <li> <a href="/contact" className="hover:text-primary transition-colors" > Contact Us </a> </li> </ul> </div> </div> <div className="border-t mt-8 pt-8 text-center"> <p className="text-sm text-muted-foreground"> © {currentYear} RetailManager. All rights reserved. </p> </div> </div> </footer> ); }
```

# src\components\features\landing\app-header.jsx

```jsx
import AuthModal from "@/components/features/auth/auth-modal"; import LoginButton from "@/components/features/auth/login-button"; import UserNav from "@/components/features/auth/user-nav"; import PrimaryButton from "@/components/ui/primary-button"; /** * Main application header component that adapts based on user authentication status. * Serves as the primary navigation for both unauthenticated and authenticated users. * * @param {Object} props * @param {Object|null} props.session - User session object from Auth.js (null if not logged in) * @param {Object} [props.session.user] - User object containing name, email, image, etc. * @returns {JSX.Element} Header component */ export default function AppHeader({ session }) { return ( <header className="border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60"> <div className="container mx-auto px-4 sm:px-6 lg:px-8"> <div className="flex h-16 items-center justify-between"> <div className="flex items-center"> <h1 className="text-xl font-bold text-primary">RetailManager</h1> </div> <nav className="hidden md:flex items-center space-x-6"> <a href="#features" className="text-sm font-medium text-muted-foreground hover:text-primary transition-colors" > Features </a> <a href="#pricing" className="text-sm font-medium text-muted-foreground hover:text-primary transition-colors" > Pricing </a> </nav> <div className="flex items-center space-x-4"> {session?.user ? ( <UserNav user={session.user} /> ) : ( <AuthModal trigger={<PrimaryButton>Start Free Trial</PrimaryButton>} > <LoginButton /> </AuthModal> )} </div> </div> </div> </header> ); }
```

# src\components\features\landing\dynamic-section-content.jsx

```jsx
/** * Dynamic section content component that adapts messaging based on user authentication status. * * @param {Object} props * @param {Object|null} props.session - The user session object from auth() * @param {string} props.section - The section identifier ('pricing' or 'cta') * @returns {JSX.Element} Dynamic content based on authentication status */ export default function DynamicSectionContent({ session, section }) { if (section === "pricing") { return ( <div className="text-center mb-16"> <h2 className="text-3xl md:text-4xl font-bold mb-4"> {session ? "Your Shop Management Dashboard" : "Simple, Transparent Pricing"} </h2> <p className="text-xl text-muted-foreground max-w-2xl mx-auto"> {session ? "Access your complete retail management solution. Manage inventory, track sales, and grow your business." : "Choose the plan that fits your business needs. All plans include core features."} </p> </div> ); } if (section === "cta") { return ( <> <h2 className="text-3xl md:text-4xl font-bold mb-4"> {session ? "Welcome Back to Your Shop!" : "Ready to Transform Your Shop?"} </h2> <p className="text-xl text-muted-foreground mb-8 max-w-2xl mx-auto"> {session ? "Your retail management dashboard is ready. Continue managing your inventory, sales, and business operations." : "Join hundreds of shop owners who have already modernized their operations with our comprehensive retail management solution."} </p> </> ); } return null; }
```

# src\components\providers\QueryProvider.jsx

```jsx
"use client"; import { QueryClient, QueryClientProvider } from "@tanstack/react-query"; import { useState } from "react"; /** * TanStack Query provider component for client-side data fetching and caching. * Creates a query client instance and provides it to child components. * * @param {Object} props * @param {React.ReactNode} props.children - Child components * @returns {JSX.Element} Query client provider */ export default function QueryProvider({ children }) { const [queryClient] = useState( () => new QueryClient({ defaultOptions: { queries: { staleTime: 60 * 1000, // 1 minute refetchOnWindowFocus: false, }, }, }) ); return ( <QueryClientProvider client={queryClient}>{children}</QueryClientProvider> ); }
```

# src\components\providers\SessionProviderWrapper.jsx

```jsx
"use client"; import { SessionProvider } from "next-auth/react"; /** * Client-side wrapper for NextAuth.js SessionProvider. * This component makes the session context available to all child components. * * @param {{ * children: React.ReactNode; * session?: import('next-auth').Session; * }} props - Component props * @returns {JSX.Element} Session provider wrapper */ export default function SessionProviderWrapper({ children, session }) { return <SessionProvider session={session}>{children}</SessionProvider>; }
```

# src\components\ui\avatar.jsx

```jsx
"use client" import * as React from "react" import * as AvatarPrimitive from "@radix-ui/react-avatar" import { cn } from "@/lib/utils" const Avatar = React.forwardRef(({ className, ...props }, ref) => ( <AvatarPrimitive.Root ref={ref} className={cn("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full", className)} {...props} /> )) Avatar.displayName = AvatarPrimitive.Root.displayName const AvatarImage = React.forwardRef(({ className, ...props }, ref) => ( <AvatarPrimitive.Image ref={ref} className={cn("aspect-square h-full w-full", className)} {...props} /> )) AvatarImage.displayName = AvatarPrimitive.Image.displayName const AvatarFallback = React.forwardRef(({ className, ...props }, ref) => ( <AvatarPrimitive.Fallback ref={ref} className={cn( "flex h-full w-full items-center justify-center rounded-full bg-muted", className )} {...props} /> )) AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName export { Avatar, AvatarImage, AvatarFallback }
```

# src\components\ui\button.jsx

```jsx
import * as React from "react" import { Slot } from "@radix-ui/react-slot" import { cva } from "class-variance-authority"; import { cn } from "@/lib/utils" const buttonVariants = cva( "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", { variants: { variant: { default: "bg-primary text-primary-foreground shadow hover:bg-primary/90", destructive: "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90", outline: "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground", secondary: "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80", ghost: "hover:bg-accent hover:text-accent-foreground", link: "text-primary underline-offset-4 hover:underline", }, size: { default: "h-9 px-4 py-2", sm: "h-8 rounded-md px-3 text-xs", lg: "h-10 rounded-md px-8", icon: "h-9 w-9", }, }, defaultVariants: { variant: "default", size: "default", }, } ) const Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => { const Comp = asChild ? Slot : "button" return ( <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} /> ); }) Button.displayName = "Button" export { Button, buttonVariants }
```

# src\components\ui\card.jsx

```jsx
import * as React from "react" import { cn } from "@/lib/utils" const Card = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("rounded-xl border bg-card text-card-foreground shadow", className)} {...props} /> )) Card.displayName = "Card" const CardHeader = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("flex flex-col space-y-1.5 p-6", className)} {...props} /> )) CardHeader.displayName = "CardHeader" const CardTitle = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("font-semibold leading-none tracking-tight", className)} {...props} /> )) CardTitle.displayName = "CardTitle" const CardDescription = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} /> )) CardDescription.displayName = "CardDescription" const CardContent = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("p-6 pt-0", className)} {...props} /> )) CardContent.displayName = "CardContent" const CardFooter = React.forwardRef(({ className, ...props }, ref) => ( <div ref={ref} className={cn("flex items-center p-6 pt-0", className)} {...props} /> )) CardFooter.displayName = "CardFooter" export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
```

# src\components\ui\dialog.jsx

```jsx
"use client" import * as React from "react" import * as DialogPrimitive from "@radix-ui/react-dialog" import { X } from "lucide-react" import { cn } from "@/lib/utils" const Dialog = DialogPrimitive.Root const DialogTrigger = DialogPrimitive.Trigger const DialogPortal = DialogPrimitive.Portal const DialogClose = DialogPrimitive.Close const DialogOverlay = React.forwardRef(({ className, ...props }, ref) => ( <DialogPrimitive.Overlay ref={ref} className={cn( "fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0", className )} {...props} /> )) DialogOverlay.displayName = DialogPrimitive.Overlay.displayName const DialogContent = React.forwardRef(({ className, children, ...props }, ref) => ( <DialogPortal> <DialogOverlay /> <DialogPrimitive.Content ref={ref} className={cn( "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg", className )} {...props}> {children} <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"> <X className="h-4 w-4" /> <span className="sr-only">Close</span> </DialogPrimitive.Close> </DialogPrimitive.Content> </DialogPortal> )) DialogContent.displayName = DialogPrimitive.Content.displayName const DialogHeader = ({ className, ...props }) => ( <div className={cn("flex flex-col space-y-1.5 text-center sm:text-left", className)} {...props} /> ) DialogHeader.displayName = "DialogHeader" const DialogFooter = ({ className, ...props }) => ( <div className={cn("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2", className)} {...props} /> ) DialogFooter.displayName = "DialogFooter" const DialogTitle = React.forwardRef(({ className, ...props }, ref) => ( <DialogPrimitive.Title ref={ref} className={cn("text-lg font-semibold leading-none tracking-tight", className)} {...props} /> )) DialogTitle.displayName = DialogPrimitive.Title.displayName const DialogDescription = React.forwardRef(({ className, ...props }, ref) => ( <DialogPrimitive.Description ref={ref} className={cn("text-sm text-muted-foreground", className)} {...props} /> )) DialogDescription.displayName = DialogPrimitive.Description.displayName export { Dialog, DialogPortal, DialogOverlay, DialogTrigger, DialogClose, DialogContent, DialogHeader, DialogFooter, DialogTitle, DialogDescription, }
```

# src\components\ui\dropdown-menu.jsx

```jsx
"use client" import * as React from "react" import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu" import { Check, ChevronRight, Circle } from "lucide-react" import { cn } from "@/lib/utils" const DropdownMenu = DropdownMenuPrimitive.Root const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger const DropdownMenuGroup = DropdownMenuPrimitive.Group const DropdownMenuPortal = DropdownMenuPrimitive.Portal const DropdownMenuSub = DropdownMenuPrimitive.Sub const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup const DropdownMenuSubTrigger = React.forwardRef(({ className, inset, children, ...props }, ref) => ( <DropdownMenuPrimitive.SubTrigger ref={ref} className={cn( "flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0", inset && "pl-8", className )} {...props}> {children} <ChevronRight className="ml-auto" /> </DropdownMenuPrimitive.SubTrigger> )) DropdownMenuSubTrigger.displayName = DropdownMenuPrimitive.SubTrigger.displayName const DropdownMenuSubContent = React.forwardRef(({ className, ...props }, ref) => ( <DropdownMenuPrimitive.SubContent ref={ref} className={cn( "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", className )} {...props} /> )) DropdownMenuSubContent.displayName = DropdownMenuPrimitive.SubContent.displayName const DropdownMenuContent = React.forwardRef(({ className, sideOffset = 4, ...props }, ref) => ( <DropdownMenuPrimitive.Portal> <DropdownMenuPrimitive.Content ref={ref} sideOffset={sideOffset} className={cn( "z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md", "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]", className )} {...props} /> </DropdownMenuPrimitive.Portal> )) DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName const DropdownMenuItem = React.forwardRef(({ className, inset, ...props }, ref) => ( <DropdownMenuPrimitive.Item ref={ref} className={cn( "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0", inset && "pl-8", className )} {...props} /> )) DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName const DropdownMenuCheckboxItem = React.forwardRef(({ className, children, checked, ...props }, ref) => ( <DropdownMenuPrimitive.CheckboxItem ref={ref} className={cn( "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", className )} checked={checked} {...props}> <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"> <DropdownMenuPrimitive.ItemIndicator> <Check className="h-4 w-4" /> </DropdownMenuPrimitive.ItemIndicator> </span> {children} </DropdownMenuPrimitive.CheckboxItem> )) DropdownMenuCheckboxItem.displayName = DropdownMenuPrimitive.CheckboxItem.displayName const DropdownMenuRadioItem = React.forwardRef(({ className, children, ...props }, ref) => ( <DropdownMenuPrimitive.RadioItem ref={ref} className={cn( "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50", className )} {...props}> <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center"> <DropdownMenuPrimitive.ItemIndicator> <Circle className="h-2 w-2 fill-current" /> </DropdownMenuPrimitive.ItemIndicator> </span> {children} </DropdownMenuPrimitive.RadioItem> )) DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName const DropdownMenuLabel = React.forwardRef(({ className, inset, ...props }, ref) => ( <DropdownMenuPrimitive.Label ref={ref} className={cn("px-2 py-1.5 text-sm font-semibold", inset && "pl-8", className)} {...props} /> )) DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName const DropdownMenuSeparator = React.forwardRef(({ className, ...props }, ref) => ( <DropdownMenuPrimitive.Separator ref={ref} className={cn("-mx-1 my-1 h-px bg-muted", className)} {...props} /> )) DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName const DropdownMenuShortcut = ({ className, ...props }) => { return ( <span className={cn("ml-auto text-xs tracking-widest opacity-60", className)} {...props} /> ); } DropdownMenuShortcut.displayName = "DropdownMenuShortcut" export { DropdownMenu, DropdownMenuTrigger, DropdownMenuContent, DropdownMenuItem, DropdownMenuCheckboxItem, DropdownMenuRadioItem, DropdownMenuLabel, DropdownMenuSeparator, DropdownMenuShortcut, DropdownMenuGroup, DropdownMenuPortal, DropdownMenuSub, DropdownMenuSubContent, DropdownMenuSubTrigger, DropdownMenuRadioGroup, }
```

# src\components\ui\feature-card.jsx

```jsx
import { Card, CardContent, CardDescription } from "@/components/ui/card"; /** * Feature card component for displaying product features in a visually appealing format. * * @param {Object} props * @param {React.ReactNode} props.icon - Icon component from lucide-react * @param {string} props.title - Feature title * @param {string} props.description - Feature description text * @returns {JSX.Element} Feature card component */ export default function FeatureCard({ icon, title, description }) { return ( <Card className="h-full"> <CardContent className="p-6 text-center"> <div className="flex justify-center mb-4"> <div className="p-3 bg-primary/10 rounded-lg">{icon}</div> </div> <h3 className="text-lg font-semibold mb-2">{title}</h3> <CardDescription className="text-muted-foreground"> {description} </CardDescription> </CardContent> </Card> ); }
```

# src\components\ui\pricing-card.jsx

```jsx
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle, } from "@/components/ui/card"; import { Check } from "lucide-react"; /** * Pricing card component for displaying subscription tier details. * * @param {Object} props * @param {string} props.planName - Name of the subscription plan * @param {string} props.price - Price display text * @param {string} props.description - Plan description * @param {string[]} props.features - Array of feature strings * @param {React.ReactNode} props.children - Call-to-action button passed from parent * @param {boolean} [props.recommended] - Whether this is the recommended plan * @returns {JSX.Element} Pricing card component */ export default function PricingCard({ planName, price, description, features = [], children, recommended = false, }) { return ( <Card className={`h-full ${recommended ? "border-primary border-2" : ""}`}> <CardHeader className="text-center"> {recommended && ( <div className="bg-primary text-primary-foreground text-sm font-semibold py-1 px-3 rounded-full mx-auto mb-2 w-fit"> Recommended </div> )} <CardTitle className="text-2xl">{planName}</CardTitle> <div className="text-3xl font-bold text-primary">{price}</div> <CardDescription>{description}</CardDescription> </CardHeader> <CardContent className="flex-grow"> <ul className="space-y-3"> {features.map((feature, index) => ( <li key={index} className="flex items-center gap-2"> <Check className="h-4 w-4 text-primary flex-shrink-0" /> <span className="text-sm">{feature}</span> </li> ))} </ul> </CardContent> <CardFooter className="flex justify-center"> <div className="w-full">{children}</div> </CardFooter> </Card> ); }
```

# src\components\ui\primary-button.jsx

```jsx
import { Button } from "@/components/ui/button"; /** * Primary action button component that adheres to the application's design system. * This component wraps the shadcn/ui Button with consistent primary styling. * * @param {Object} props - All standard button props are forwarded to the underlying Button component * @param {React.ReactNode} props.children - Button content * @param {Function} [props.onClick] - Click handler * @param {string} [props.type] - Button type (button, submit, reset) * @param {boolean} [props.disabled] - Whether the button is disabled * @param {string} [props.className] - Additional CSS classes * @returns {JSX.Element} Styled primary button */ export default function PrimaryButton({ children, ...props }) { return ( <Button variant="default" className="bg-primary text-primary-foreground hover:bg-primary/90 font-semibold" {...props} > {children} </Button> ); }
```

# src\lib\auth.config.js

```js
import GoogleProvider from "next-auth/providers/google"; import { upsertUserAndCreateShop } from "./services/user-service"; // <-- IMPORT THE SERVICE /** * @type {import('next-auth').NextAuthConfig} */ export const authConfig = { providers: [ GoogleProvider({ clientId: process.env.AUTH_GOOGLE_ID, clientSecret: process.env.AUTH_GOOGLE_SECRET, }), ], session: { strategy: "jwt", }, pages: { signIn: "/login", }, callbacks: { /** * This callback is triggered on a successful sign-in. * It now calls our encapsulated service function to handle database operations. */ async signIn({ user, account }) { if (account?.provider !== "google") return false; try { // Call the service function to handle user creation/verification. const dbUser = await upsertUserAndCreateShop(user); // If the service function returns a user, the sign-in is successful. // If it returns null (due to an error), the sign-in is blocked. return dbUser !== null; } catch (error) { console.error("Sign-in callback error:", error); // Prevent sign-in on unexpected errors. return false; } }, // ... (the rest of your authorized, jwt, and session callbacks remain unchanged) ... authorized({ auth, request: { nextUrl } }) { const isLoggedIn = !!auth?.user; const isOnDashboard = nextUrl.pathname.startsWith("/dashboard"); if (isOnDashboard) { if (isLoggedIn) return true; return false; } else if (isLoggedIn) { if (nextUrl.pathname === "/login") { return Response.redirect(new URL("/dashboard", nextUrl)); } return true; } return true; }, async jwt({ token, user, account }) { if (account && user) { token.id = user.id; } return token; }, async session({ session, token }) { if (token.id && session.user) { // @ts-ignore session.user.id = token.id; } return session; }, }, };
```

# src\lib\config\landing-page-config.js

```js
import { BarChart3, Package, Receipt, Users, TrendingUp, Shield, } from "lucide-react"; /** * Landing page content configuration * Centralizes all static content for the landing page to improve maintainability * and separate concerns between data and presentation. */ /** * Feature cards data for the Features section * @type {Array<{title: string, description: string, icon: React.ReactNode}>} */ export const featureCardsData = [ { title: "Inventory Management", description: "Track stock levels, manage products, and get alerts when items are running low.", icon: <Package className="h-8 w-8 text-primary" />, }, { title: "Sales Processing", description: "Fast, keyboard-friendly sales recording with flexible pricing and payment options.", icon: <Receipt className="h-8 w-8 text-primary" />, }, { title: "Financial Reporting", description: "Comprehensive reports on sales, profits, and business performance.", icon: <BarChart3 className="h-8 w-8 text-primary" />, }, { title: "Customer Management", description: "Track customer purchases, manage credit accounts, and build relationships.", icon: <Users className="h-8 w-8 text-primary" />, }, { title: "Business Analytics", description: "Gain insights into your business with detailed analytics and trends.", icon: <TrendingUp className="h-8 w-8 text-primary" />, }, { title: "Secure & Reliable", description: "Your data is protected with enterprise-grade security and regular backups.", icon: <Shield className="h-8 w-8 text-primary" />, }, ]; /** * Pricing plans data for the Pricing section * @type {Array<{planName: string, price: string, description: string, features: string[], recommended: boolean, ctaText: string}>} */ export const pricingPlansData = [ { planName: "Basic", price: "Free", description: "Perfect for small shops getting started", features: [ "Up to 100 products", "Basic sales tracking", "Simple inventory management", "Email support", ], recommended: false, ctaText: "Get Started", }, { planName: "Standard", price: "$19/month", description: "Most popular choice for growing businesses", features: [ "Up to 1,000 products", "Advanced reporting", "Customer management", "Multi-user access", "Priority support", ], recommended: true, ctaText: "Start Free Trial", }, { planName: "Premium", price: "$39/month", description: "For established shops with advanced needs", features: [ "Unlimited products", "Advanced analytics", "Custom integrations", "Dedicated support", "Custom training", ], recommended: false, ctaText: "Start Free Trial", }, ];
```

# src\lib\prisma.js

```js
import { PrismaClient } from "@prisma/client"; /** * This module provides a singleton instance of the Prisma Client. * * In a serverless environment or during development with hot-reloading, * it's crucial to prevent creating multiple instances of PrismaClient, * which can exhaust the database connection pool. * * This pattern checks for an existing instance on the global object * and reuses it if available, creating a new one otherwise. */ // Add prisma to the NodeJS global type /** @type {{ prisma: PrismaClient | undefined }} */ const globalForPrisma = global; const prisma = globalForPrisma.prisma ?? new PrismaClient({ // Optional: Log database queries for debugging purposes // log: ['query', 'info', 'warn', 'error'], }); // In development, store the prisma instance on the global object to reuse across hot-reloads. if (process.env.NODE_ENV !== "production") { globalForPrisma.prisma = prisma; } export default prisma;
```

# src\lib\services\user-service.js

```js
import prisma from "@/lib/prisma"; /** * Handles the creation of a new user and their associated shop and subscription * in a single atomic transaction. If the user already exists, it does nothing. * This is an "upsert" pattern specifically for the initial user sign-up. * * @param {import('next-auth').User} user - The user object from the Auth.js callback. * @returns {Promise<import('@prisma/client').User | null>} The created or existing user, or null on failure. */ export async function upsertUserAndCreateShop(user) { if (!user || !user.email) { console.error("Invalid user object provided for upsert."); return null; } try { // Check if the user already exists in our database const existingUser = await prisma.user.findUnique({ where: { email: user.email }, }); // If the user already exists, the process is successful. Return the user. if (existingUser) { return existingUser; } // If the user is new, create the User, Shop, and Subscription // in a single atomic transaction to ensure data integrity. const newUser = await prisma.$transaction(async (tx) => { const createdUser = await tx.user.create({ data: { name: user.name, email: user.email, image: user.image, role: "SHOP_OWNER", // New users are always the Shop Owner }, }); const createdShop = await tx.shop.create({ data: { name: `${user.name}'s Shop`, // A sensible default shop name ownerId: createdUser.id, }, }); // Set up the initial 14-day free trial subscription const trialEndDate = new Date(); trialEndDate.setDate(trialEndDate.getDate() + 14); await tx.subscription.create({ data: { shopId: createdShop.id, plan: "FREE_TRIAL", status: "TRIALING", endDate: trialEndDate, }, }); return createdUser; }); return newUser; } catch (error) { console.error("Failed to upsert user and create shop:", error); // Return null to indicate failure, which can be handled in the auth callback. return null; } }
```

# src\lib\utils.js

```js
import { clsx } from "clsx"; import { twMerge } from "tailwind-merge" export function cn(...inputs) { return twMerge(clsx(inputs)); }
```

# src\middleware.js

```js
import NextAuth from "next-auth"; import { authConfig } from "./lib/auth.config"; /** * Initializes and exports the NextAuth.js middleware. * This function leverages the `authorized` callback within `authConfig` * to protect application routes. */ export default NextAuth(authConfig).auth; /** * The matcher configuration specifies which routes the middleware will run on. * This pattern ensures the middleware is applied to all paths except for * static assets and internal Next.js files, providing comprehensive security. */ export const config = { matcher: [ /* * Match all request paths except for the ones starting with: * - api (API routes, which have their own auth checks) * - _next/static (static files) * - _next/image (image optimization files) * - favicon.ico (favicon file) */ "/((?!api|_next/static|_next/image|favicon.ico).*)", ], };
```

# tailwind.config.mjs

```mjs
/** @type {import('tailwindcss').Config} */ export default { darkMode: ["class"], content: [ "./src/pages/**/*.{js,ts,jsx,tsx,mdx}", "./src/components/**/*.{js,ts,jsx,tsx,mdx}", "./src/app/**/*.{js,ts,jsx,tsx,mdx}", ], theme: { extend: { colors: { background: 'hsl(var(--background))', foreground: 'hsl(var(--foreground))', card: { DEFAULT: 'hsl(var(--card))', foreground: 'hsl(var(--card-foreground))' }, popover: { DEFAULT: 'hsl(var(--popover))', foreground: 'hsl(var(--popover-foreground))' }, primary: { DEFAULT: 'hsl(var(--primary))', foreground: 'hsl(var(--primary-foreground))' }, secondary: { DEFAULT: 'hsl(var(--secondary))', foreground: 'hsl(var(--secondary-foreground))' }, muted: { DEFAULT: 'hsl(var(--muted))', foreground: 'hsl(var(--muted-foreground))' }, accent: { DEFAULT: 'hsl(var(--accent))', foreground: 'hsl(var(--accent-foreground))' }, destructive: { DEFAULT: 'hsl(var(--destructive))', foreground: 'hsl(var(--destructive-foreground))' }, border: 'hsl(var(--border))', input: 'hsl(var(--input))', ring: 'hsl(var(--ring))', chart: { '1': 'hsl(var(--chart-1))', '2': 'hsl(var(--chart-2))', '3': 'hsl(var(--chart-3))', '4': 'hsl(var(--chart-4))', '5': 'hsl(var(--chart-5))' } }, borderRadius: { lg: 'var(--radius)', md: 'calc(var(--radius) - 2px)', sm: 'calc(var(--radius) - 4px)' } } }, plugins: [require("tailwindcss-animate")], };
```

